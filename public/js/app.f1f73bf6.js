(function(t){function e(e){for(var a,o,n=e[0],c=e[1],l=e[2],d=0,p=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},r=[];function o(t){return n.p+"js/"+({}[t]||t)+"."+{"chunk-59a80db7":"ea0bd18d"}[t]+".js"}function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.e=function(t){var e=[],s=i[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,a){s=i[t]=[e,a]}));e.push(s[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=o(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(d);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,s[1](l)}i[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"062f":function(t,e,s){t.exports=s.p+"img/education-large.69b26c46.jpg"},"0ae7":function(t,e,s){t.exports=s.p+"img/education-small.f4e7057c.jpg"},1:function(t,e){},"11d4":function(t,e,s){t.exports=s.p+"img/homepage-2-img.f4c63a14.svg"},1582:function(t,e,s){},1931:function(t,e,s){"use strict";s("1582")},"1f5a":function(t,e,s){t.exports=s.p+"img/emp1.93e8a447.jpg"},2:function(t,e){},"2b7b":function(t,e,s){t.exports=s.p+"img/marketing-small.e89f09cc.jpg"},"2db6":function(t,e,s){t.exports=s.p+"img/business-large.2a5b88ea.jpg"},"3b15":function(t,e,s){t.exports=s.p+"img/homepage-3-simple.ed7e44fc.svg"},"3c61":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return s(e)}function r(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="4678"},"48ce":function(t,e,s){t.exports=s.p+"img/marketing-large.57c356d0.jpg"},"4ffd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA+CAYAAACcA8N6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACP0lEQVR4Xu1Za2+DMAzkqX7e//+ZlTZ1gjBflmxVpRE7ISOtLhLqB86POxMa7K7jogJUgApQASpABagAFaACL6NAb2Wyrits+nEc3bIs4zAMbs+Hc26YpknM1gE21ng18WbySEYIb0IKv922bbv59X3fRaz8quKJ30WwEDbl34l/5NKjCLLmmmJ54hJgm+fZ/2quiA22u/mBeIH/z6rkobQ8xp705XJJko8Y2MA2lVyh/zXlv+i+7FtPOD4BmspHbLDdjV/oH0+Neqn24L03VCa1z/+Kjv0vtrsxC/078T9q2Q9aIHDaF5bF55lYE3nNC+tMMtbYJvJW5yfgTdv41cib9CZ5k1zfB5ua69+OwDmVr02+RFjuea16OZXX+m4eR/LGEpn2ldF3MdxyCs2pfNPkRT11fjnki6tT2YGakxpYOeEj3df5qjsyw4q+Jq3v5iofvsfRJbppSQjWQ6VJ+ib9gA+tnfrlEB0WNhuSzYy9xEMjxHePw+WLh2YnmpfSKrtqWmU/XLQqtUDemmsK39xjn0r4yPskf6Saz+SLlX+mah2Zq7ny9z17+WtJ5nKPye33J4NkAsz/8xJnk6lKPFSowj7gc2Kq4lhB5sqHQ4U1jp/UtrayyGPsJEdJP6JOLWCAhU1rK539Q8ZhDm7mEWb0daeoxqzM5GXWfosV1zzKEYNRl9jWnZ8byefCF/mSuooxRsK4UFFc2NiP1yrY93A/Nx7tqAAVoAJUgApQASpABagAFaACVIAKUIFfBb4Ak3sBKLu4VtsAAAAASUVORK5CYII="},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=s("a6f4"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.boards?s("div",{style:t.boardStyle,attrs:{id:"app"}},[s("app-header",{style:t.defaultBackground,attrs:{users:t.users,user:t.user,boards:t.boards},on:{logOut:t.logOut,createBoard:t.createBoard}}),s("router-view"),s("v-offline",{on:{"detected-condition":t.onConnectivityChange}},[s("transition",{attrs:{name:"slide-fade"}},[t.isOnline&&t.isShown?[s("div",{staticClass:"online"},[t._v(" Back online, syncing... ")])]:t._e()],2),s("transition",{attrs:{name:"slide-fade"}},[!t.isOnline&&t.isShown?[s("div",{staticClass:"offline"},[t._v(" No connection, working offline... ")])]:t._e()],2)],1)],1):s("div",{staticClass:"load"})},o=[],n=s("1da1"),c=(s("99af"),s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"header-navbar"},[s("div",{staticClass:"header-controls-left"},[s("router-link",{staticClass:"link-home",attrs:{to:"/"}},[s("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.58579 10.4142C3.21071 10.7893 3 11.298 3 11.8284V19C3 20.1045 3.89543 21 5 21H10C10.5523 21 11 20.5523 11 20V14H13V20C13 20.5523 13.4477 21 14 21H19C20.1046 21 21 20.1045 21 19V11.8284C21 11.298 20.7893 10.7893 20.4142 10.4142L12.7071 2.70708C12.3166 2.31655 11.6834 2.31655 11.2929 2.70708L3.58579 10.4142ZM13 12C14.1046 12 15 12.8954 15 14V19H19V11.8284L12 4.8284L5 11.8284V19H9V14C9 12.8954 9.89543 12 11 12H13Z",fill:"currentColor"}})])]),s("button",{staticClass:"btn-boards",on:{click:t.toggleBoardsMenu}},[s("svg",{attrs:{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5ZM5 6C5 5.44772 5.44772 5 6 5H10C10.5523 5 11 5.44772 11 6V16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16V6ZM14 5C13.4477 5 13 5.44772 13 6V12C13 12.5523 13.4477 13 14 13H18C18.5523 13 19 12.5523 19 12V6C19 5.44772 18.5523 5 18 5H14Z",fill:"currentColor"}})]),s("span",{staticClass:"btn-boards-txt"},[t._v("Boards")])]),s("boards-menu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeBoardsMenu,expression:"closeBoardsMenu"}],ref:"boardsmenu",staticClass:"hideBoardsMenu",class:t.boardsShowMenu,attrs:{boards:t.boards},on:{removeBoard:t.removeBoard,createBoard:t.createBoard,closeBoardsMenu:t.closeBoardsMenu}}),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSearch,expression:"closeSearch"}],staticClass:"headerSearchClosed",class:{headerSearchOpen:t.isSearchOpen},on:{click:t.openSearch}},[t.isSearchOpen?s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],staticClass:"header-search-input",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.filterBy},on:{input:[function(e){e.target.composing||(t.filterBy=e.target.value)},t.setFilter]}}):s("input",{staticClass:"header-search-input",attrs:{type:"text",placeholder:"Jump to..."}}),s("span",{staticClass:"search-input-img"},[t.isSearchOpen?t._e():s("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5C18 12.2269 17.4164 13.8175 16.4356 15.0852L20.3769 19.0953C20.764 19.4892 20.7586 20.1223 20.3647 20.5095C19.9708 20.8966 19.3376 20.8911 18.9505 20.4972L15.0129 16.4909C13.7572 17.4383 12.1942 18 10.5 18ZM16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5Z",fill:"currentColor"}})]),t.isSearchOpen?s("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return e.stopPropagation(),t.closeSearch.apply(null,arguments)}}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12Z",fill:"currentColor"}})]):t._e()]),s("transition",{attrs:{name:"fade"}},[t.isSearchOpen?s("search-boards",{attrs:{boardsForDisplay:t.boardsForDisplay},on:{closeSearch:t.closeSearch}}):t._e()],1)],1)],1),t._m(0),s("div",{staticClass:"header-controls-right"},[t.user&&!t.user._id?s("button",{staticClass:"user-login",on:{click:t.login}},[t._v("Login")]):t._e(),s("button",{staticClass:"btn-notifications",style:{backgroundColor:t.isNotified},on:{click:t.toggleNotifications}},[s("svg",{attrs:{width:"20",height:"20",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C11.4477 2 11 2.44772 11 3V3.078C10.2728 3.19668 9.65318 3.44603 9.1328 3.79295C8.39456 4.28511 7.91489 4.93416 7.60557 5.55279C7.29822 6.1675 7.14952 6.77011 7.07611 7.2106C7.039 7.43322 7.02007 7.62092 7.01035 7.75688C7.00549 7.82503 7.0029 7.88067 7.00153 7.92176C7.00085 7.94232 7.00046 7.95929 7.00025 7.9724L7.00005 7.98916L7.00001 7.99533L7 7.99786L7 7.99898C7 7.9995 7 8 8 8H7V11.723L4.14251 16.4855C3.95715 16.7944 3.95229 17.1792 4.1298 17.4927C4.30731 17.8062 4.63973 18 5 18H19C19.3603 18 19.6927 17.8062 19.8702 17.4927C20.0477 17.1792 20.0429 16.7944 19.8575 16.4855L17 11.723V8H16C17 8 17 7.9995 17 7.99898L17 7.99786L17 7.99533L17 7.98916L16.9997 7.9724C16.9995 7.95929 16.9992 7.94232 16.9985 7.92176C16.9971 7.88067 16.9945 7.82503 16.9896 7.75688C16.9799 7.62092 16.961 7.43322 16.9239 7.2106C16.8505 6.77011 16.7018 6.1675 16.3944 5.55279C16.0851 4.93416 15.6054 4.28511 14.8672 3.79295C14.3468 3.44603 13.7272 3.19668 13 3.078V3C13 2.44772 12.5523 2 12 2ZM9.00042 7.98839L9 8.00435V12C9 12.1812 8.95074 12.3591 8.85749 12.5145L6.76619 16H17.2338L15.1425 12.5145C15.0493 12.3591 15 12.1812 15 12V8.00436L14.9996 7.98839C14.999 7.97089 14.9977 7.9406 14.9947 7.89937C14.9888 7.81658 14.9765 7.69178 14.9511 7.5394C14.8995 7.22989 14.7982 6.8325 14.6056 6.44721C14.4149 6.06584 14.1446 5.71489 13.7578 5.45705C13.3773 5.20338 12.825 5 12 5C11.175 5 10.6227 5.20338 10.2422 5.45705C9.85544 5.71489 9.58511 6.06584 9.39443 6.44721C9.20178 6.8325 9.10048 7.22989 9.04889 7.5394C9.0235 7.69178 9.01118 7.81658 9.00527 7.89937C9.00233 7.9406 9.001 7.97089 9.00042 7.98839ZM14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19H14Z",fill:"currentColor"}})])]),t.user.username?s("button",{staticClass:"member-avatar-wrapper",on:{click:t.toggleUserMenu}},[s("avatar",{staticClass:"member-name",attrs:{username:t.user.fullname,size:30,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}})],1):t._e()]),s("user-menu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeUserMenu,expression:"closeUserMenu"}],staticClass:"hideUserMenu",class:t.userMenuShow,on:{closeUserMenu:t.closeUserMenu,logOut:t.logOut}}),t.user&&t.user._id&&t.showNotifications?s("notifications-list",{attrs:{boards:t.boards,mentions:t.user.mentions},on:{close:t.toggleNotifications,updateMentions:t.updateMentions}}):t._e()],1)}),l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-logo"},[a("div",[a("img",{attrs:{src:s("4ffd")}})]),a("span",[t._v("Trailing")])])}],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"boards-menu-container"},[s("div",{staticClass:"boards-menu-header"},[s("h3",[t._v("Boards")]),s("button",{staticClass:"icon-md icon-x",on:{click:t.boardsMenuClose}})]),s("hr"),s("div",{staticClass:"boards-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],staticClass:"boards-input-search",attrs:{type:"text",placeholder:"Find board by name..."},domProps:{value:t.filterBy},on:{input:[function(e){e.target.composing||(t.filterBy=e.target.value)},t.setFilter]}})]),s("div",{staticClass:"boards-menu-content"},[s("div",{staticClass:"boards-list-sm"},t._l(t.boardsForDisplay,(function(e){return s("board-preview",{key:e._id,attrs:{display:"small",board:e},on:{removeBoard:t.removeBoard},nativeOn:{click:function(s){return t.showBoard(e._id)}}})})),1),s("div",{staticClass:"board-btns-container"},[s("button",{staticClass:"btn-create-board",on:{click:t.toggleCreateBoard}},[t._v(" Create new board ")]),s("button",{staticClass:"btn-boards-page",on:{click:t.showBoards}},[t._v("Boards page")])])]),t.isCreateOpen?s("create-board",{staticClass:"hideCreateMenu",class:t.createShowMenu,on:{createBoard:t.createBoard,closeMenu:t.boardsMenuClose,menuBack:t.toggleCreateBoard}}):t._e()],1)},u=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("div",{class:{"board-item-lg":"large"===t.display,"board-item":"small"===t.display},style:t.background},["backgroundImage"===t.board.style.type&&"small"===t.display?s("img",{staticClass:"board-item-img",attrs:{src:t.board.style.preview}}):"backgroundColor"===t.board.style.type&&"small"===t.display?s("div",{staticClass:"board-item-color-img",style:{backgroundColor:t.board.style.content}}):t._e(),s("div",{staticClass:"board-item-title-container"},[s("h4",{staticClass:"board-item-title"},[t._v(t._s(t.board.title))]),"small"===t.display?s("button",{staticClass:"icon-md btn-remove",on:{click:function(e){return e.stopPropagation(),t.removeBoard.apply(null,arguments)}}}):t._e()])]):t._e()},h=[],m={props:{board:Object,display:String},computed:{background:function(){return"backgroundImage"===this.board.style.type?"background-image: url('".concat(this.board.style.preview,"')"):"background-color: ".concat(this.board.style.content)},user:function(){return this.$store.getters.user}},methods:{removeBoard:function(){this.$emit("removeBoard",this.board._id);var t=this.$route.params.boardId;t===this.board._id&&this.$router.push("/boards")}}},g=m,f=s("2877"),b=Object(f["a"])(g,p,h,!1,null,null,null),v=b.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"create-board-container"},[s("div",{staticClass:"create-menu-header"},[s("button",{staticClass:"icon-md icon-back",on:{click:t.menuBack}}),s("h3",[t._v("Create board")]),s("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),s("hr"),s("div",{staticClass:"create-board-content"},[s("div",{staticClass:"create-board-title"},[s("h4",[t._v("Board title")]),s("div",{staticClass:"board-title-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.boardToSaveTitle,expression:"boardToSaveTitle"}],attrs:{type:"text",placeholder:"Title"},domProps:{value:t.boardToSaveTitle},on:{input:function(e){e.target.composing||(t.boardToSaveTitle=e.target.value)}}})])]),s("hr"),s("div",{staticClass:"create-board-bg"},[s("h4",[t._v("Choose background")]),s("div",{staticClass:"rand-photos-container"},t._l(t.photos,(function(e){return s("div",{key:e.id,staticClass:"rand-photos",on:{click:function(s){return t.saveBg("backgroundImage",e.urlBig,e.urlSmall)}}},[t.selectedBg&&t.selectedBg.content===e.urlBig?s("span",{staticClass:"icon-lg icon-v selected-bg"}):t._e(),s("img",{attrs:{src:e.urlSmall}})])})),0),s("div",{staticClass:"rand-colors-container"},t._l(t.colors,(function(e){return s("div",{key:e.id,staticClass:"rand-colors",style:{"background-color":e},on:{click:function(s){return t.saveBg("backgroundColor",e)}}},[t.selectedBg&&t.selectedBg.content===e?s("span",{staticClass:"icon-lg icon-v selected-bg"}):t._e()])})),0)]),s("div",{staticClass:"create-board-btn"},[s("button",{staticClass:"btn-create",class:{ready:t.isReady,disabled:!t.isReady},on:{click:t.createBoard}},[t._v(" Create board ")])])])])},y=[],k=(s("d81d"),s("c96a"),s("bc3a")),w=s.n(k),_={makeId:x};function x(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}var T=s("2831"),E={data:function(){return{photos:[],colors:["#0079bf","#b04632","#519839","#89609e"],boardToSaveTitle:"",selectedBg:null}},computed:{loggedUser:function(){return this.$store.getters.loggedInUser},isReady:function(){return!(!this.selectedBg||!this.boardToSaveTitle)}},methods:{closeMenu:function(){this.$emit("closeMenu")},menuBack:function(){this.$emit("menuBack")},saveBg:function(t,e){var s=arguments,a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r,o,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:"",a.selectedBg={type:t,content:e,preview:r},"backgroundImage"!==t){i.next=8;break}return o=new T["a"],i.next=6,o.getColorAsync(e);case 6:n=i.sent,a.$set(a.selectedBg,"props",n);case 8:case"end":return i.stop()}}),i)})))()},getRandomPhotos:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="https://api.unsplash.com/photos/random/?client_id=3G3H2YrHWdLEk7zLzjy33Ykx0eACFpe497xZ1BWXAQg&count=4",t.next=3,w.a.get(e);case 3:return s=t.sent,a=s.data,i=a.map((function(t,e){return{idx:e,id:t.id,urlBig:t.urls.full,urlSmall:t.urls.small,props:{isDark:""}}})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))()},createBoard:function(){if(this.isReady){var t={title:this.boardToSaveTitle,createdAt:Date.now(),createdBy:this.loggedUser,style:this.selectedBg,labels:[{id:"l101",title:"Done",color:"#61bd4f"},{id:"l102",title:"Almost",color:"#f2d600"},{id:"l103",title:"Nice",color:"#ff78cb"},{id:"l104",title:"Bad",color:"#eb5a46"}],members:[this.loggedUser],groups:[{id:_.makeId(),title:"Need to check",cards:[{id:_.makeId(),createdAt:Date.now(),title:"Card details component"},{id:_.makeId(),createdAt:Date.now(),title:"Login auth"}]},{id:_.makeId(),title:"In progress",cards:[{id:_.makeId(),createdAt:Date.now(),title:"Card cover"}]},{id:_.makeId(),title:"Done",cards:[]},{id:_.makeId(),title:"Need to refactor",cards:[]}],activities:[{id:_.makeId(),createdAt:Date.now(),byMember:this.loggedUser,txt:" created this board "}]};this.$emit("createBoard",t)}}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRandomPhotos();case 2:t.photos=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},$=E,A=Object(f["a"])($,C,y,!1,null,null,null),S=A.exports,L={props:{boards:Array},components:{boardPreview:v,createBoard:S},data:function(){return{isCreateOpen:!1,currBoardId:"",filterBy:""}},computed:{boardsForDisplay:function(){return this.$store.getters.boardsForDisplay},createShowMenu:function(){return{showCreateMenu:this.isCreateOpen}}},methods:{setFilter:function(){this.$store.commit({type:"setFilter",filterBy:this.filterBy})},removeBoard:function(t){this.$emit("removeBoard",t)},showBoard:function(t){this.$router.push("/board/".concat(t)),this.filterBy=""},boardsMenuClose:function(){this.$emit("closeBoardsMenu"),this.isCreateOpen=!1,this.filterBy=""},toggleCreateBoard:function(){this.isCreateOpen=!this.isCreateOpen},createBoard:function(t){this.boardsMenuClose(),this.$emit("createBoard",t)},showBoards:function(){this.$router.push("/boards"),this.boardsMenuClose()}},created:function(){this.currBoardId=this.$route.params.boardId},watch:{"$route.params.boardId":{immediate:!0,handler:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$route.params.boardId!==t.currBoardId&&t.boardsMenuClose();case 1:case"end":return e.stop()}}),e)})))()}}}},M=L,j=Object(f["a"])(M,d,u,!1,null,null,null),B=j.exports,I=s("4a89"),O=s.n(I),D=s("e67d"),P=s.n(D),R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-menu-container"},[s("div",{staticClass:"user-menu-header"},[s("h4",[t._v("Account")]),s("button",{staticClass:"icon-md icon-x",on:{click:t.closeUserMenu}})]),s("hr"),s("div",{staticClass:"user-menu-content"},[s("div",{staticClass:"user-menu-name"},[t.user.username?s("avatar",{staticClass:"member-name",attrs:{username:t.user.fullname,size:40,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}}):s("avatar",{staticClass:"member-name",attrs:{username:"Guest User",size:40,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}}),t.user.username?s("span",{staticClass:"user-menu-username"},[t._v(t._s(t.user.fullname))]):s("span",{staticClass:"user-menu-username"},[t._v("Guest user")])],1),s("hr"),s("div",{staticClass:"user-menu-actions"},["guest"===t.user.username?s("button",{staticClass:"user-logout",on:{click:t.login}},[t._v(" Login ")]):s("button",{staticClass:"user-logout",on:{click:t.logOut}},[t._v("Log out")])])])])},U=[],N={components:{avatar:O.a},computed:{user:function(){return this.$store.getters.loggedInUser}},methods:{login:function(){this.$router.push("/login")},logOut:function(){this.$emit("logOut"),this.closeUserMenu()},closeUserMenu:function(){this.$emit("closeUserMenu")}}},F=N,H=Object(f["a"])(F,R,U,!1,null,null,null),J=H.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"search-boards-container"},[s("div",{staticClass:"search-board-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],staticClass:"search-board-input",attrs:{type:"text",placeholder:"Start typing..."},domProps:{value:t.filterBy},on:{input:[function(e){e.target.composing||(t.filterBy=e.target.value)},t.setFilter]}})]),s("div",{staticClass:"search-header-container"},[t.boardsForDisplay?s("h1",{staticClass:"board-search-header"},[t._v(" Search results ")]):s("h1",{staticClass:"board-search-header"},[t._v("Start Typing...")])]),s("div",{staticClass:"boards-list-sm"},t._l(t.boardsForDisplay,(function(e){return s("board-preview",{key:e._id,attrs:{display:"small",board:e},nativeOn:{click:function(e){return e.stopPropagation(),t.closeSearch.apply(null,arguments)}}})})),1)])},G=[],V={props:{boardsForDisplay:Array},components:{boardPreview:v},data:function(){return{filterBy:""}},methods:{setFilter:function(){this.$store.commit({type:"setFilter",filterBy:this.filterBy})},closeSearch:function(){this.$emit("closeSearch")}}},q=V,W=Object(f["a"])(q,z,G,!1,null,null,null),Q=W.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"notifications-list"},[s("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),s("header",[t._v("Notifications")]),s("div",{staticClass:"filter-options"},[t.filtered?s("span",{on:{click:t.toggleFilter}},[t._v("View all")]):s("span",{on:{click:t.toggleFilter}},[t._v("Filter by unread")]),s("span",{on:{click:t.readAll}},[t._v("Mark all as read")])]),t.mentions?s("div",{staticClass:"notifications-container"},[t._l(t.mentionsForDisplay,(function(e){return[e.cTitle?s("notification-preview",{key:e.createdAt,attrs:{mention:e,boards:t.boards},on:{toggleRead:function(s){return t.toggleRead(e.id)}}}):t._e()]}))],2):s("h3",[t._v("No unread notifications")])])},Z=[],K=(s("4de4"),s("7db0"),s("c740"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"notification-preview",class:{unread:t.unread}},[s("button",{staticClass:"read-btn",class:{unread:t.unread},on:{click:t.toggleRead}}),s("div",{staticClass:"notification-container"},[s("div",{staticClass:"notification-card",style:t.style},[s("div",{staticClass:"mention-card-preview"},[s("span",[t._v(t._s(t.mention.cTitle))]),t.mention.dueDate?s("span",{staticClass:"mention-due-date",style:t.isSoon},[s("span",{staticClass:"icon-sm icon-date"}),t._v(" "+t._s(t.mention.dueDate.slice(5))+" ")]):t._e()]),s("span",{staticClass:"board-group",class:{dark:!t.mention.isDark}},[s("span",[t._v(t._s(t.mention.bTitle))]),t._v(": "+t._s(t.mention.gTitle))])]),s("div",{staticClass:"notification-info"},[s("div",{staticClass:"mention-by-member"},[s("avatar",{attrs:{username:t.mention.byMember,size:24,backgroundColor:"#dfe1e6"}}),s("span",[t._v(t._s(t.mention.byMember))])],1),s("div",{staticClass:"mention-txt"},[t._m(0),s("span",[t._v(t._s(t.mention.txt)+" you")]),s("span",{staticClass:"mention-date"},[t._v(t._s(t._f("moment")(t.mention.createdAt,"calendar")))])])])])])}),X=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"icon-sm icon-assign"})])}],tt={props:{mention:Object,boards:Array},components:{avatar:O.a},computed:{isSoon:function(){var t=this,e=this.boards.find((function(e){return e._id===t.mention.bId})),s=e.groups.find((function(e){return e.id===t.mention.gId})),a=s.cards.find((function(e){return e.id===t.mention.cId}));if(a.isCompleted)return{backgroundColor:"#61BD4F",color:"white"};var i=Date.parse(new Date),r=Date.parse(a.dueDate),o=r-i;return o<0?{backgroundColor:"#ec9488",color:"white"}:o<864e5?{backgroundColor:"#F2D600",color:"#172B4D"}:{backgroundColor:"rgba(9, 30, 66, 0.08)",color:"#5e6c84"}},style:function(){return this.mention.style},unread:function(){return!this.mention.isRead}},methods:{toggleRead:function(){this.$emit("toggleRead")}}},et=tt,st=Object(f["a"])(et,K,X,!1,null,null,null),at=st.exports,it={props:{boards:Array,mentions:Array},data:function(){return{filtered:!1}},components:{notificationPreview:at},computed:{mentionsForDisplay:function(){var t,e=this;return t=this.filtered?this.mentions.filter((function(t){return!t.isRead})):this.mentions,t.map((function(t){var s=e.boards.find((function(e){return e._id===t.bId}));if(!s)return t;var a=s.groups.find((function(e){return e.id===t.gId}));if(!a)return t;var i=a.cards.find((function(e){return e.id===t.cId})),r="backgroundColor"===s.style.type?"background-color: ".concat(s.style.content):"background-image: url(".concat(s.style.preview,")");return s&&(t.bTitle=s.title),a&&(t.gTitle=a.title),i&&(t.cTitle=i.title),t.style=r,t.isDark=s.style.props.isDark,t}))}},methods:{close:function(){this.$emit("close")},toggleRead:function(t){var e=JSON.parse(JSON.stringify(this.mentions)),s=e.findIndex((function(e){return e.id===t}));e[s].isRead=!e[s].isRead,this.$emit("updateMentions",e)},toggleFilter:function(){this.filtered=!this.filtered},readAll:function(){var t=JSON.parse(JSON.stringify(this.mentions));t.forEach((function(t){return t.isRead=!0})),this.$emit("updateMentions",t)}}},rt=it,ot=Object(f["a"])(rt,Y,Z,!1,null,null,null),nt=ot.exports,ct=s("8055"),lt=s.n(ct),dt="",ut=pt();function pt(){var t=null,e={setup:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=lt()(dt);case 1:case"end":return e.stop()}}),e)})))()},on:function(e,s){t.on(e,s)},off:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(s?t.off(e,s):t.removeAllListeners(e))},emit:function(e,s){t.emit(e,s)},terminate:function(){t=null}};return e}window.socketService=ut,ut.setup();var ht={components:{notificationsList:nt,boardsMenu:B,avatar:O.a,userMenu:J,searchBoards:Q},props:{boards:Array,users:Array,user:Object},data:function(){return{isBoardsShow:!1,isUserMenu:!1,isSearchOpen:!1,showNotifications:!1,filterBy:""}},computed:{isNotified:function(){if(this.user&&this.user._id)return this.user.mentions&&this.user.mentions.some((function(t){return!t.isRead}))?"#EB5A46":"rgba(255, 255, 255, 0.3)"},boardsShowMenu:function(){return{showBoardsMenu:this.isBoardsShow}},userMenuShow:function(){return{showUserMenu:this.isUserMenu}},searchOpen:function(){return{headerSearchOpen:this.isSearchOpen}},boardsForDisplay:function(){return this.$store.getters.boardsForDisplay}},directives:{ClickOutside:P.a},methods:{toggleNotifications:function(){this.showNotifications=!this.showNotifications},removeBoard:function(t){this.$store.dispatch({type:"removeBoard",boardId:t})},setFilter:function(){this.$store.commit({type:"setFilter",filterBy:this.filterBy})},openSearch:function(){this.isSearchOpen=!0},closeSearch:function(){this.filterBy="",this.$store.commit({type:"setFilter",filterBy:""}),this.isSearchOpen=!1},login:function(){this.$router.push("/login")},closeBoardsMenu:function(){var t=this;this.isBoardsShow=!1,this.$nextTick((function(){return t.$refs.boardsmenu.isCreateOpen=!1}))},closeUserMenu:function(){this.isUserMenu=!1},toggleBoardsMenu:function(){this.isBoardsShow=!this.isBoardsShow},toggleUserMenu:function(){this.isUserMenu=!this.isUserMenu},createBoard:function(t){this.$emit("createBoard",t)},logOut:function(){this.$emit("logOut")},updateMentions:function(t){var e=JSON.parse(JSON.stringify(this.user));e.mentions=t,ut.emit("send user",e),this.$store.dispatch("updateUser",{userToUpdate:e})},updateMention:function(t){this.$store.commit({type:"updateMention",mention:t})}},mounted:function(){this.popupItem=this.$el},created:function(){ut.on("mention updated",this.updateMention)},destroyed:function(){ut.off("user updated")}},mt=ht,gt=Object(f["a"])(mt,c,l,!1,null,null,null),ft=gt.exports,bt=s("05fb"),vt={components:{appHeader:ft,VOffline:bt["a"]},data:function(){return{isOnline:!0,isShown:!1}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"loadBoards"});case 3:return e.next=5,t.$store.dispatch({type:"loadUsers"});case 5:t.user&&ut.emit("user-watch",t.user._id),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},computed:{boardStyle:function(){var t=this.$store.getters.boardStyle;if(t)return"backgroundImage"===t.type?"".concat(t.type,": url(").concat(t.content,")"):"".concat(t.type,": ").concat(t.content)},boards:function(){return this.$store.getters.boards},users:function(){return this.$store.getters.users},user:function(){return this.$store.getters.user},defaultBackground:function(){return this.boardStyle?"":"background-color: #026AA7"}},methods:{createBoard:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"addBoard",board:t});case 3:a=s.sent,e.$store.commit({type:"getBoardById",boardId:t._id}),e.$router.push("/board/".concat(a._id)),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log("cant create board",s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()},logOut:function(){this.$store.dispatch({type:"logout"}),this.$router.push("/")},onConnectivityChange:function(t){var e=this;this.isOnline=t,this.isShown=!0,setTimeout((function(){e.isShown=!1}),3500)}}},Ct=vt,yt=(s("8017"),Object(f["a"])(Ct,r,o,!1,null,"00fa0191",null)),kt=yt.exports,wt=s("9483");Object(wt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var _t=s("5c96"),xt=s.n(_t),Tt=(s("0fae"),s("8c4f")),Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-details"},[t.bgOpen?s("section",{staticClass:"bg",on:{click:t.toggleBg}}):t._e(),t.board&&t.board.title?s("board-header",{attrs:{board:t.board},on:{bgColor:t.boardUpdate,updateBoard:t.boardUpdate,boardUpdate:t.boardUpdate,toggleDashboard:t.toggleDashboard}}):t._e(),t.board&&t.board.groups?s("group-list",{ref:"grouplist",attrs:{groups:t.board.groups,bgImage:t.board.style},on:{boardUpdate:t.boardUpdate,openBg:t.toggleBg,createLabel:t.createLabel,removeLabel:t.removeLabel,emitActivity:t.addActivity,updateMentions:t.updateMentions}}):t._e(),s("transition",{attrs:{name:"fade"}},[t.showDashboard&&t.board&&t.board.groups?s("board-dashboard",{attrs:{board:t.board},on:{toggleDashboard:t.toggleDashboard}}):t._e()],1)],1)},$t=[],At=(s("a434"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-header-container"},[s("div",{staticClass:"board-header-controls"},[s("div",{staticClass:"board-header-title"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.boardTitle,expression:"boardTitle"}],ref:"txt",staticClass:"title-input",style:{width:t.getWidth},domProps:{value:t.boardTitle},on:{change:function(e){return t.saveTitle()},input:[function(e){e.target.composing||(t.boardTitle=e.target.value)},function(e){return t.getTextWidth()}],click:t.selectTxt}})]),s("span",{staticClass:"board-header-divider"},[t._v("|")]),s("transition",{attrs:{name:"fade"}},[t.mobileRemove?s("div",{staticClass:"board-members-mobile-container"},t._l(t.board.members,(function(e){return s("span",{key:e._id,staticClass:"members-list-mobile"},[s("span",{staticClass:"member-name-avatar-mobile"},[s("avatar",{staticClass:"member-name",style:{"margin-left":"-3px"},attrs:{title:e.fullname,username:e.fullname,size:28,inline:!0}}),s("span",{staticClass:"member-fullname-mobile"},[t._v(t._s(e.fullname))])],1),t.board.createdBy._id!==e._id?s("span",{staticClass:"remove-member-mobile icon-sm",on:{click:function(s){return t.removeMember(e._id)}}}):t._e()])})),0):t._e()]),s("div",{staticClass:"board-header-members"},[t._l(t.board.members,(function(e){return s("span",{key:e._id,staticClass:"members-list"},[s("avatar",{staticClass:"member-name",style:{"margin-left":"-3px"},attrs:{title:e.fullname,username:e.fullname,size:28,inline:!0}}),t.board.createdBy._id!==e._id?s("span",{staticClass:"remove-member",on:{click:function(s){return t.removeMember(e._id)}}},[t._v("X")]):t._e(),t.board.createdBy._id===e._id?s("img",{staticClass:"member-admin",attrs:{title:"This member is the creator of this board",src:"https://a.trellocdn.com/prgb/dist/images/chevron.88a4454280d68a816b89.png"}}):t._e()],1)})),s("span",{staticClass:"icon-md icon-remove-members",attrs:{title:"Remove members from board"},on:{click:t.toggleRemoveMembersMobile}}),s("span",{staticClass:"icon-md icon-members btn-invite",attrs:{title:"Invite members"},on:{click:t.toggleInvite}}),s("button",{staticClass:"btn-invite",on:{click:t.toggleInvite}},[t._v("Invite")]),s("transition",{attrs:{name:"slide-fade"}},[t.isInviteShow?s("users",{attrs:{users:t.users,board:t.board,onlyBoard:!1},on:{addUser:t.addUser,closeInvite:t.toggleInvite}}):t._e()],1)],2),s("span",{staticClass:"board-header-divider"},[t._v("|")]),s("span",{staticClass:"icon-md icon-dashboard",attrs:{title:"Dashboard"},on:{click:t.toggleDashboard}}),s("button",{staticClass:"btn-dashboard",on:{click:t.toggleDashboard}},[t._v("Dashboard")])],1),s("span",{staticClass:"icon-md icon-mobile-menu",attrs:{title:"Show menu"},on:{click:t.toggleMenu}}),s("button",{staticClass:"btn-show-menu",on:{click:t.toggleMenu}},[s("span",{staticClass:"icon-sm icon-dots-menu"}),s("span",{staticClass:"menu-show-txt"},[t._v("Show menu")])]),s("side-menu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],ref:"sideMenu",staticClass:"hideMenu",class:t.menuShow,attrs:{board:t.board},on:{bgColor:t.bgColor,chooseBg:t.chooseBg,closeMenu:t.toggleMenu}})],1)}),St=[],Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"side-menu-container"},[s("div",{staticClass:"side-menu-header"},[s("h3",[t._v("Menu")]),s("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),s("hr"),s("div",{staticClass:"side-menu-content"},[t.board.style?s("div",{staticClass:"side-menu-item",on:{click:t.toggleBgMenu}},["backgroundImage"===t.board.style.type?s("img",{staticClass:"side-bar-bgc-img",attrs:{src:t.board.style.content}}):s("span",{staticClass:"side-bar-bgc-img",style:{"background-color":t.board.style.content}}),s("button",{staticClass:"btn-menu-change-background"},[t._v(" Change background ")])]):t._e(),t.board.style?s("div",{staticClass:"side-menu-item"},[s("span",{staticClass:"icon-sm icon-activity"}),s("span",{staticClass:"menu-activity"},[t._v(" Activity ")])]):t._e(),t.board.activities?s("div",{staticClass:"menu-activity-list"},t._l(t.board.activities,(function(t){return s("activity-preview",{key:t.id,staticClass:"activity-list",attrs:{render:"menu",activity:t}})})),1):t._e()]),s("background-menu",{ref:"bgMenu",staticClass:"hideBgMenu",class:t.bgShowMenu,on:{bgColor:t.bgColor,chooseBg:t.chooseBg,closeMenu:t.closeMenu,menuBack:t.toggleBgMenu}})],1)},Mt=[],jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"activity-preview"},[s("div",{staticClass:"inner-container"},[s("avatar",{attrs:{username:t.activity.byMember.fullname,inline:"",size:32}}),s("div",{staticClass:"activity-info"},[s("div",[s("span",[t._v(t._s(t.activity.byMember.fullname))]),t._v(" "+t._s(t.activity.txt)+" "),"menu"===t.render&&t.activity.isSpecific?s("span",[t._v('on card "'+t._s(t.activity.cTitle)+'"')]):t._e(),"card"===t.render?s("span",[t._v("on this card")]):t._e()]),s("p",[t._v(t._s(t._f("moment")(t.activity.createdAt,"calendar")))])])],1)])},Bt=[],It={props:{activity:Object,render:String},components:{avatar:O.a}},Ot=It,Dt=Object(f["a"])(Ot,jt,Bt,!1,null,null,null),Pt=Dt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"background-menu-container"},[a("div",{staticClass:"background-menu-header"},[a("button",{staticClass:"icon-md icon-back",on:{click:t.menuBack}}),a("h3",[t._v("Change background")]),a("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),a("hr"),a("div",{staticClass:"background-menu-content"},[a("div",{staticClass:"background-menu-select"},[a("div",{staticClass:"background-menu-option-bg",on:{click:t.togglePhotosMenu}},[a("img",{staticClass:"background-menu-img",attrs:{src:s("5e88"),alt:""}}),a("span",{staticClass:"background-selection-txt"},[t._v("Photos")])]),a("div",{staticClass:"background-menu-option-color",on:{click:t.toggleColorsMenu}},[a("img",{staticClass:"background-menu-img",attrs:{src:s("8cdd"),alt:""}}),a("span",{staticClass:"background-selection-txt"},[t._v("Colors")])])])]),a("background-photos",{staticClass:"hideImgMenu",class:t.photosShowMenu,on:{updateBoard:t.chooseBg,closeMenu:t.closeMenu,photosBack:t.togglePhotosMenu}}),a("background-colors",{staticClass:"hideColorMenu",class:t.colorShowMenu,on:{bgColor:t.bgColor,closeMenu:t.closeMenu,colorsBack:t.toggleColorsMenu}})],1)},Ut=[],Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"background-photos-container"},[s("div",{staticClass:"background-photos-header"},[s("button",{staticClass:"icon-md icon-back",on:{click:t.photosBack}}),s("h3",[t._v("Photos by Unsplash")]),s("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),s("hr"),s("div",{staticClass:"background-photos-content"},[s("div",{staticClass:"photos-input-container"},[s("span",{staticClass:"icon-sm icon-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.photoSearch,expression:"photoSearch"}],staticClass:"photos-input-search",attrs:{type:"text",placeholder:"Photos"},domProps:{value:t.photoSearch},on:{input:[function(e){e.target.composing||(t.photoSearch=e.target.value)},t.debounceFunc]}})]),t.isLoading&&-1!==t.chosenPhotoIdx||!t.isLoading&&-1===t.chosenPhotoIdx?s("div",{staticClass:"background-photos"},t._l(t.photos,(function(e,a){return s("div",{key:e.id,staticClass:"photo-example",on:{click:function(s){return t.chooseBg(e.urlBig,e.urlSmall,a)}}},[s("img",{attrs:{src:e.urlSmall}}),t.isLoading&&t.chosenPhotoIdx===a?[t._m(0,!0)]:t._e()],2)})),0):t._e(),t.isLoading&&-1===t.chosenPhotoIdx?s("div",{staticClass:"logo-loading active"}):t._e()])])},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploading"},[a("img",{staticClass:"spinner small",attrs:{src:s("5e4c")}}),a("span",[t._v("Uploading…")])])}],Ht={loadPhotos:Jt};function Jt(t){return zt.apply(this,arguments)}function zt(){return zt=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="https://api.unsplash.com/search/photos?query=".concat(e,"&per_page=20&client_id=3G3H2YrHWdLEk7zLzjy33Ykx0eACFpe497xZ1BWXAQg"),t.next=3,w.a.get(s);case 3:return a=t.sent,i=a.data.results,i=i.map((function(t,e){return{idx:e,id:t.id,urlBig:t.urls.full,urlSmall:t.urls.small}})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)}))),zt.apply(this,arguments)}var Gt,Vt,qt,Wt,Qt,Yt,Zt,Kt,Xt={data:function(){return{photoSearch:"",photos:[],debounceFunc:null,isLoading:!1,chosenPhotoIdx:-1}},methods:{closeMenu:function(){this.$emit("closeMenu")},photosBack:function(){this.$emit("photosBack")},debounce:function(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];var o=function(){clearTimeout(e),t.apply(void 0,i)};clearTimeout(e),e=setTimeout(o,s)}},loadPhotos:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,Ht.loadPhotos(t.photoSearch);case 3:t.photos=e.sent,t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},getRandomPhotos:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="https://api.unsplash.com/photos/random/?client_id=3G3H2YrHWdLEk7zLzjy33Ykx0eACFpe497xZ1BWXAQg&count=20",t.next=3,w.a.get(e);case 3:return s=t.sent,a=s.data,i=a.map((function(t,e){return{idx:e,id:t.id,urlBig:t.urls.full,urlSmall:t.urls.small}})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))()},chooseBg:function(t,e,s){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.chosenPhotoIdx=s,a.isLoading=!0,r=new T["a"],i.next=5,r.getColorAsync(t);case 5:o=i.sent,a.$emit("updateBoard",{type:"style",payload:{type:"backgroundImage",content:t,preview:e,props:o}}),a.isLoading=!1,a.chosenPhotoIdx=-1;case 9:case"end":return i.stop()}}),i)})))()}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.debounceFunc=t.debounce(t.loadPhotos),e.next=3,t.getRandomPhotos();case 3:t.photos=e.sent;case 4:case"end":return e.stop()}}),e)})))()}},te=Xt,ee=Object(f["a"])(te,Nt,Ft,!1,null,null,null),se=ee.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"background-colors-container"},[s("div",{staticClass:"background-colors-header"},[s("button",{staticClass:"icon-md icon-back",on:{click:t.colorsBack}}),s("h3",[t._v("Colors")]),s("button",{staticClass:"icon-md icon-x",on:{click:t.closeMenu}})]),s("hr"),s("div",{staticClass:"background-colors-content"},t._l(t.colors,(function(e){return s("div",{key:e.id,staticClass:"color-picks",style:{"background-color":e},on:{click:function(s){return t.bgColor(e)}}})})),0)])},ie=[],re={data:function(){return{colors:["#0079bf","#d29034","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#00aecc","#838c91"]}},methods:{closeMenu:function(){this.$emit("closeMenu")},colorsBack:function(){this.$emit("colorsBack")},bgColor:function(t){this.$emit("bgColor",{type:"style",payload:{type:"backgroundColor",content:t}})}}},oe=re,ne=Object(f["a"])(oe,ae,ie,!1,null,null,null),ce=ne.exports,le={components:{backgroundPhotos:se,backgroundColors:ce},data:function(){return{isPhotosShow:!1,isColorsShow:!1}},computed:{photosShowMenu:function(){return{showImgMenu:this.isPhotosShow}},colorShowMenu:function(){return{showColorMenu:this.isColorsShow}}},methods:{bgColor:function(t){this.$emit("bgColor",t)},chooseBg:function(t){this.$emit("chooseBg",t)},closeMenu:function(){this.$emit("closeMenu"),this.isPhotosShow=!1,this.isColorsShow=!1},menuBack:function(){this.$emit("menuBack")},togglePhotosMenu:function(){this.isPhotosShow=!this.isPhotosShow},toggleColorsMenu:function(){this.isColorsShow=!this.isColorsShow}}},de=le,ue=Object(f["a"])(de,Rt,Ut,!1,null,null,null),pe=ue.exports,he={components:{backgroundMenu:pe,activityPreview:Pt},props:{board:Object},data:function(){return{isBgShow:!1}},computed:{bgShowMenu:function(){return{showBgMenu:this.isBgShow}}},methods:{bgColor:function(t){this.$emit("bgColor",t)},chooseBg:function(t){this.$emit("chooseBg",t)},closeMenu:function(){this.$emit("closeMenu"),this.isBgShow=!1,this.isColorShow=!1},toggleBgMenu:function(){this.isBgShow=!this.isBgShow}}},me=he,ge=Object(f["a"])(me,Lt,Mt,!1,null,null,null),fe=ge.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"members-list-container"},[s("header",[t._v("Members")]),s("span",{staticClass:"icon-sm icon-x",on:{click:t.closeInvite}}),s("hr"),s("div",{staticClass:"users-details"},[t.onlyBoard?s("h4",{staticClass:"members-list-header"},[t._v("Board Members")]):s("h4",{staticClass:"members-list-header"},[t._v("Invite Members")]),t._l(t.usersToShow,(function(e){return s("single-user",{key:e._id,attrs:{user:e},on:{addUser:t.addUser}})}))],2)])},ve=[],Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"single-member-container",on:{click:function(e){return t.addUser(t.user._id)}}},[s("avatar",{style:{backgroundColor:"#dfe1e6",color:"#172b4d",fontSize:"15px"},attrs:{username:t.user.fullname,size:32,inline:!0}}),s("span",{staticClass:"user-txt"},[t._v(t._s(t.user.fullname)+" ")]),t.user.username?s("span",{staticClass:"user-txt"},[t._v(" ("+t._s(t.user.username)+")")]):t._e()],1)},ye=[],ke={components:{avatar:O.a},props:{user:Object},methods:{addUser:function(t){this.$emit("addUser",t)}}},we=ke,_e=Object(f["a"])(we,Ce,ye,!1,null,null,null),xe=_e.exports,Te={components:{singleUser:xe},props:{board:Object,card:Object,onlyBoard:Boolean},data:function(){return{users:[]}},computed:{usersToShow:function(){var t=this;return this.onlyBoard?this.card.members?this.board.members.filter((function(e){if(!t.card.members.some((function(t){return t._id===e._id})))return e})):this.board.members:this.users.filter((function(e){if(!t.board.members.some((function(t){return t._id===e._id})))return e}))}},methods:{addUser:function(t){this.$emit("addUser",t)},closeInvite:function(){this.$emit("closeInvite")},toggleMember:function(){this.$emit("toggleMember")}},created:function(){this.users=this.$store.getters.users}},Ee=Te,$e=Object(f["a"])(Ee,be,ve,!1,null,null,null),Ae=$e.exports,Se={components:{sideMenu:fe,avatar:O.a,users:Ae},props:{board:Object},data:function(){return{isMenuShow:!1,boardTitle:null,boardMembers:null,isInviteShow:!1,txtWidth:null,mobileRemove:!1}},directives:{ClickOutside:P.a},computed:{getWidth:function(){return this.getTextWidth()},menuShow:function(){return{showMenu:this.isMenuShow}},users:function(){return this.$store.getters.users}},methods:{toggleRemoveMembersMobile:function(){this.mobileRemove=!this.mobileRemove},selectTxt:function(){this.$refs.txt.select()},getTextWidth:function(){var t=document.createElement("span");document.body.appendChild(t),t.style.font="Segoe UI",t.style.fontSize="18px",t.style.height="auto",t.style.width="auto",t.style.position="absolute",t.style.whiteSpace="no-wrap",t.innerHTML=this.boardTitle;var e=Math.ceil(t.clientWidth),s=e+40+"px";return document.body.removeChild(t),s},bgColor:function(t){this.$emit("bgColor",t),ut.emit("send style",t)},chooseBg:function(t){this.$emit("updateBoard",t),ut.emit("send style",t)},toggleMenu:function(){this.isMenuShow=!this.isMenuShow},closeMenu:function(){this.isMenuShow=!1,this.$refs.sideMenu.isBgShow=!1,this.$refs.sideMenu.$refs.bgMenu.isColorsShow=!1,this.$refs.sideMenu.$refs.bgMenu.isPhotosShow=!1},toggleInvite:function(){this.isInviteShow=!this.isInviteShow},saveTitle:function(){this.boardTitle||(this.boardTitle=this.board.title);var t=JSON.parse(JSON.stringify(this.boardTitle));this.$emit("boardUpdate",{type:"title",payload:t}),ut.emit("send title",t)},toggleDashboard:function(){this.$emit("toggleDashboard")},removeMember:function(t){var e=this.boardMembers.findIndex((function(e){return e._id===t}));this.boardMembers.splice(e,1),this.saveMembers()},saveMembers:function(){var t=JSON.parse(JSON.stringify(this.boardMembers));this.$emit("boardUpdate",{type:"members",payload:t}),ut.emit("send members",t)},addUser:function(t){var e=this.users.find((function(e){return e._id===t}));this.boardMembers.push(e),this.saveMembers()}},watch:{board:{immediate:!0,handler:function(){this.boardTitle=JSON.parse(JSON.stringify(this.board.title)),this.boardMembers=JSON.parse(JSON.stringify(this.board.members))},deep:!0}},mounted:function(){this.popupItem=this.$el},created:function(){this.boardTitle=JSON.parse(JSON.stringify(this.board.title)),this.boardMembers=JSON.parse(JSON.stringify(this.board.members)),this.getTextWidth()}},Le=Se,Me=Object(f["a"])(Le,At,St,!1,null,null,null),je=Me.exports,Be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.groupsToEdit?s("section",{ref:"grouplistwrapper",staticClass:"group-list-wrapper",on:{mousedown:t.setPageScroll,mouseup:t.unsetPageScroll,mousemove:t.dragList}},[s("draggable",{ref:"grouplist",staticClass:"group-list",attrs:{handle:".group-wrapper",animation:"100",delay:"500","delay-on-touch-only":"true",dragClass:"drag",ghostClass:"ghost-group",chosenClass:"chosen",setData:t.startDragGroup},on:{start:function(e){t.isScrolling=!1,t.drag=!0},end:function(e){t.drag=!1,t.saveGroups(),t.endDrag()}},model:{value:t.groupsToEdit,callback:function(e){t.groupsToEdit=e},expression:"groupsToEdit"}},[t._l(t.groupsToEdit,(function(e,a){return s("div",{key:e.id,staticClass:"group-wrapper"},[s("div",{staticClass:"group"},[s("div",{staticClass:"group-details"},[s("div",{staticClass:"group-header"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"group.title"}],ref:"grouptitle",refInFor:!0,staticClass:"group-header-name mod-group-name",attrs:{"aria-label":e.title,spellcheck:"false",dir:"auto",maxlength:"300"},domProps:{value:e.title},on:{change:t.saveGroups,input:[function(s){s.target.composing||t.$set(e,"title",s.target.value)},t.textHeight]}}),s("div",{staticClass:"group-header-extras",on:{click:function(e){return e.stopPropagation(),t.toggleExtras(a)}}},[s("span",{staticClass:"icon-sm icon-dots-menu"}),t.isExtrasShowing&&t.currGroupIdx===a?s("div",{staticClass:"popup"},[s("div",{staticClass:"header",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"header-title",on:{click:function(t){t.stopPropagation()}}},[t._v("List actions")]),s("span",{staticClass:"header-close icon-sm icon-x",on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.toggleExtras(a))}}})]),s("div",{staticClass:"popup-content"},[s("div",{staticClass:"item"},[s("a",{on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.deleteGroup(a))}}},[t._v("Delete this list")])])])]):t._e()])]),s("section",{ref:"card-preview-wrapper-"+a,refInFor:!0,staticClass:"card-preview-wrapper"},[s("draggable",{attrs:{group:"cards",animation:"250",dragClass:"drag",ghostClass:"ghost-card",chosenClass:"chosen",delay:"500","delay-on-touch-only":"true",setData:t.startDragCard},on:{change:t.saveGroups,end:t.endDrag},model:{value:e.cards,callback:function(s){t.$set(e,"cards",s)},expression:"group.cards"}},t._l(e.cards,(function(i,r){return s("card-preview",{key:i.id,ref:"cardpreview-"+a+"-"+r,refInFor:!0,attrs:{card:i,group:e},on:{openCard:function(e){return t.openCard(i,a,r)},openBg:t.openBg,updateCard:function(e){return t.updateCard(e,a)},removeCard:function(e){return t.removeCard(e,a)},createLabel:t.createLabel,removeLabel:t.removeLabel,updateMentions:t.updateMentions},nativeOn:{click:function(e){return t.setCard(i,a,r)}}})})),1)],1)]),t.isAddingCard&&t.currGroupIdx===a?s("div",{staticClass:"add-card card-preview"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardToEdit.title,expression:"cardToEdit.title"}],ref:"content-"+a,refInFor:!0,attrs:{placeholder:"Enter a title for this card...",dir:"auto"},domProps:{value:t.cardToEdit.title},on:{blur:function(e){return t.toggleCardEdit(a)},input:function(e){e.target.composing||t.$set(t.cardToEdit,"title",e.target.value)}}})]):t._e(),s("section",{ref:"addcard",refInFor:!0,staticClass:"add-card-container"},[t.isAddingCard&&t.currGroupIdx===a?s("div",{staticClass:"card-composer-container"},[s("div",{staticClass:"add-card-controls"},[s("button",{staticClass:"btn-add-card",on:{click:function(e){return e.stopPropagation(),t.saveCard(a)}}},[t._v(" Add card ")]),s("a",{staticClass:"icon-lg icon-close",on:{click:function(e){return e.stopPropagation(),t.closeCardEdit(a)}}})])]):s("div",{staticClass:"card-composer-container"},[s("a",{staticClass:"open-card-composer",on:{click:function(e){return e.stopPropagation(),t.toggleCardEdit(a)}}},[s("span",{staticClass:"icon-sm icon-add"}),s("span",{staticClass:"add-card"},[t._v("Add a card")])]),s("button",{staticClass:"video-button",attrs:{type:"button"},on:{click:function(e){return t.toggleVideoRecord(a)}}},[s("span",{staticClass:"video-icon"},[s("span",{staticClass:"icon-md icon-video",attrs:{role:"img","aria-label":"VideoIcon"}})])]),s("button",{staticClass:"video-button",attrs:{type:"button"},on:{click:function(e){return t.toggleAudioRecord(a)}}},[s("span",{staticClass:"video-icon"},[s("span",{staticClass:"icon-md icon-audio",attrs:{role:"img","aria-label":"AudioIcon"}})])])])])])])})),s("div",{ref:"addgroup",staticClass:"group-wrapper mod-add",class:{"is-edit":t.isAddingGroup,"is-dark":t.bgImage.props.isDark}},[t.isAddingGroup?s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.toggleGroupEdit,expression:"toggleGroupEdit"}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.groupToEdit.title,expression:"groupToEdit.title"}],ref:"newgroupcontent",staticClass:"group-name-input",attrs:{type:"text",name:"name",placeholder:"Enter list title…",autocomplete:"off",dir:"auto"},domProps:{value:t.groupToEdit.title},on:{input:function(e){e.target.composing||t.$set(t.groupToEdit,"title",e.target.value)}}}),s("div",{staticClass:"group-add-controls"},[s("input",{staticClass:"btn-add-group",attrs:{type:"button",value:"Add list"},on:{click:function(e){return e.stopPropagation(),t.toggleGroupEdit.apply(null,arguments)}}}),s("a",{staticClass:"icon-lg icon-close",attrs:{"aria-label":"Cancel list editing"},on:{click:function(e){return e.stopPropagation(),t.closeGroupEdit.apply(null,arguments)}}})])]):t._e(),t.isAddingGroup?t._e():s("a",{staticClass:"open-add-list",on:{click:function(e){return e.stopPropagation(),t.toggleGroupEdit.apply(null,arguments)}}},[s("span",{staticClass:"icon-sm icon-add",style:{"is-dark":t.bgImage.props.isDark}}),t._v("Add another list ")])])],2),s("transition",{attrs:{name:"fade"}},[t.currCard?s("card-details",{attrs:{card:t.currCard,group:t.groupsToEdit[t.currGroupIdx]},on:{createLabel:t.createLabel,removeLabel:t.removeLabel,clearCard:t.clearCard,updateCard:function(e){return t.updateCard(e,t.currGroupIdx)},removeCard:function(e){return t.removeCard(e,t.currGroupIdx)},updateMentions:t.updateMentions}}):t._e()],1),t.isRecordingVideo?s("section",{staticClass:"card-details-bg",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleVideoRecord.apply(null,arguments)}}},[t.isRecordingVideo?s("video-record",{on:{videoRecord:t.addVideoCard,toggleVideoRecord:t.toggleVideoRecord}}):t._e()],1):t._e(),t.isRecordingAudio?s("section",{staticClass:"card-details-bg",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleAudioRecord.apply(null,arguments)}}},[t.isRecordingAudio?s(t.audioRecord,{tag:"component",on:{toggleAudioRecord:t.toggleAudioRecord,audioRecord:t.addAudioCard}}):t._e()],1):t._e()],1):t._e()},Ie=[],Oe=s("5530"),De=(s("d3b7"),s("3ca3"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"card-details-bg",on:{click:t.exitCard}},[s("section",{staticClass:"border-container"},[s("section",{staticClass:"card-details",on:{click:function(t){t.stopPropagation()}}},[t.cardToEdit.cover&&t.cardToEdit.cover.isCover&&"attachment"===t.cardToEdit.cover.type&&"video"===t.cardToEdit.attachments[t.cardToEdit.cover.attachmentIdx].props.type?s("div",{staticClass:"card-cover",style:t.background},[s("video",{attrs:{poster:t.cardToEdit.attachments[t.cardToEdit.cover.attachmentIdx].props.thumbnail,muted:"",controls:"",height:"160px"},domProps:{muted:!0}},[s("source",{attrs:{src:t.cardToEdit.attachments[t.cardToEdit.cover.attachmentIdx].props.url,type:"video/mp4"}})])]):t.cardToEdit.cover&&t.cardToEdit.cover.isCover?s("div",{staticClass:"card-cover",style:t.background}):t._e(),s("button",{staticClass:"close-btn",class:{dark:t.cardToEdit.cover&&!t.cardToEdit.cover.isCover.length},on:{click:t.exitCard}},[s("span",{staticClass:"icon-md icon-x"})]),s("div",{staticClass:"card-details-header"},[s("div",{staticClass:"inner-container"},[s("span",{staticClass:"icon-lg icon-card details-header-icon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cardToEdit.title,expression:"cardToEdit.title"}],staticClass:"card-details-title",attrs:{type:"text"},domProps:{value:t.cardToEdit.title},on:{change:t.updateTitle,input:function(e){e.target.composing||t.$set(t.cardToEdit,"title",e.target.value)}}})]),s("div",{staticClass:"card-details-list"},[t._v("From list "+t._s(t.group.title))])]),s("div",{staticClass:"card-details-content"},[s("div",{staticClass:"card-details-main"},[s("div",{staticClass:"labels-members-container"},[s("transition",{attrs:{name:"fade"}},[t.cardToEdit.labelIds&&t.cardToEdit.labelIds.length?s("labels-cmp",{attrs:{labels:t.labelsForDisplay,card:t.card,optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{createLabel:function(e){return t.createLabel(e,!1)},removeLabel:function(e){return t.removeLabel(e,!1)},updateLabels:t.updateLabels,closePopups:t.closePopups}}):t._e()],1),s("transition",{attrs:{name:"fade"}},[t.cardToEdit.members?s("members-cmp",{attrs:{members:t.cardToEdit.members},on:{updateMembers:t.updateMembers}}):t._e()],1),s("transition",{attrs:{name:"fade"}},[t.cardToEdit.dueDate?s("date-cmp",{attrs:{isCompleted:t.card.isCompleted,date:t.cardToEdit.dueDate},on:{toggleCompleted:t.toggleCompleted}}):t._e()],1)],1),s("description-cmp",{attrs:{description:t.cardToEdit.description},on:{updateDesc:t.updateDesc}}),s("transition",{attrs:{name:"fade"}},[t.cardToEdit.attachments&&t.cardToEdit.attachments.length?s("attachment-cmp",{attrs:{attachments:t.cardToEdit.attachments},on:{updateAttachments:t.updateAttachments}}):t._e()],1),s("transition",{attrs:{name:"fade"}},[t.cardToEdit.checklists?s("checklists-cmp",{attrs:{checklists:t.cardToEdit.checklists},on:{updateChecklists:t.updateCL}}):t._e()],1),t.filteredActivities?s("activity-cmp",{attrs:{activities:t.filteredActivities}}):t._e()],1),s("div",{staticClass:"card-details-sidebar"},[t.userInCard||"guest"===t.loggedUser.username?t._e():s("div",{staticClass:"sidebar-inner-container"},[s("h3",[t._v("Suggested")]),s("div",{staticClass:"sidebar-btns-container"},[s("div",{staticClass:"card-sidebar-btn",on:{click:t.joinToCard}},[s("span",{staticClass:"icon-sm icon-member"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Join")])])])]),s("div",{staticClass:"sidebar-inner-container"},[s("h3",[t._v("Add To Card")]),s("div",{staticClass:"sidebar-btns-container"},[s("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleMember}},[s("span",{staticClass:"icon-sm icon-member"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Members")]),t.isAddingMember?s("members-list",{ref:"membermodal",attrs:{boardMembers:t.board.members,cardMembers:t.card.members},on:{close:t.closePopups,updateMembers:t.updateMembers,updateMentions:t.updateMentions}}):t._e()],1),s("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleLabel}},[s("span",{staticClass:"icon-sm icon-label"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Labels")]),t.isAddingLabel?s("labels-list",{ref:"labelmodal",attrs:{optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{toggleCreateLabel:t.toggleCreateLabel,updateLabels:t.updateLabels,editLabel:t.setLabelToEdit,closePopups:t.closePopups}}):t._e(),t.isCreateLabel?s("create-labels",{attrs:{label:t.labelToEdit},on:{close:t.closePopups,createLabel:function(e){return t.createLabel(e,!0)},removeLabel:function(e){return t.removeLabel(e,!0)},back:t.toggleCreateLabel}}):t._e()],1),s("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleCl}},[s("span",{staticClass:"icon-sm icon-checklist"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Checklist")]),t.isAddingChecklist?s("checklist-add",{ref:"checklistmodal",on:{addCl:t.addCl,closePopups:t.closePopups}}):t._e()],1),s("el-date-picker",{attrs:{placeholder:"Dates",type:"date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},on:{change:t.updateDate},model:{value:t.cardDate,callback:function(e){t.cardDate=e},expression:"cardDate"}},[s("span",{staticClass:"icon-sm icon-date"})]),s("div",{staticClass:"card-sidebar-btn",on:{click:t.toggleAttch}},[s("span",{staticClass:"icon-sm icon-attach"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Attachments")]),t.isAddingAttachment?s("file-upload",{ref:"attachmentmodal",attrs:{attachments:t.cardToEdit.attachments},on:{close:t.closePopups,updateAttachments:t.updateAttachments}}):t._e()],1),s("div",{staticClass:"card-sidebar-btn cover",on:{click:t.toggleCover}},[s("span",{staticClass:"icon-sm icon-cover"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Cover")])]),t.isAddingCover?s("cover-cmp",{ref:"covermodal",attrs:{card:t.cardToEdit},on:{close:t.closePopups,updateCard:t.updateCard,toggleAttch:t.toggleAttch}}):t._e()],1)]),s("div",{staticClass:"sidebar-inner-container"},[s("h3",[t._v("Delete Card")]),s("div",{staticClass:"sidebar-btns-container"},[s("div",{staticClass:"card-sidebar-btn delete",on:{click:t.removeCard}},[s("span",{staticClass:"icon-sm icon-minus"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Delete")])])])])])])])])])}),Pe=[],Re=(s("a4d3"),s("e01a"),s("caad"),s("2532"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-main-item"},[t._m(0),s("div",{staticClass:"labels-container"},[t._l(t.labels,(function(e){return s("div",{key:e.id,staticClass:"labelDisplay list-complete-item",style:{backgroundColor:e.color}},[t._v(" "+t._s(e.title)+" ")])})),s("div",{staticClass:"add-label-btn",on:{click:t.toggleLabels}},[s("span",{staticClass:"icon-sm icon-add"}),t.isAddingLabel?s("labels-list",{attrs:{optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{updateLabels:t.updateLabels,closePopups:t.toggleLabels,toggleCreateLabel:t.toggleCreateLabel,editLabel:t.setLabelToEdit}}):t._e(),t.isCreateLabel?s("create-labels",{attrs:{label:t.labelToEdit},on:{close:function(e){t.isCreateLabel=!1},createLabel:t.createLabel,removeLabel:t.removeLabel,back:t.toggleCreateLabel}}):t._e()],1)],2)])}),Ue=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-item-header"},[s("h4",{staticClass:"main-item-title"},[t._v("LABELS")])])}],Ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"labels-list",on:{click:function(t){t.stopPropagation()}}},[s("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),s("header",[t._v("Labels")]),s("h3",[t._v("LABELS")]),s("div",{staticClass:"label-options"},t._l(t.optionsLabels,(function(e){return s("div",{key:e.id},[s("label-preview",{attrs:{label:e,cardLabels:t.labelsToEdit},on:{editLabel:t.editLabel,updateLabels:t.updateLabels}})],1)})),0),s("button",{staticClass:"create-label-btn",on:{click:t.toggleCreateLabel}},[t._v("Create a new label")])])},Fe=[],He=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"label-preview"},[s("div",{staticClass:"label-option",style:{backgroundColor:t.label.color},on:{click:function(e){return t.toggleLabel(t.label.id)}}},[t.label.title?s("span",[t._v(t._s(t.label.title))]):t._e(),t.labeled?s("span",{staticClass:"icon-sm icon-v"}):t._e()]),s("span",{staticClass:"icon-sm icon-edit",on:{click:t.editLabel}})])},Je=[],ze={props:{label:Object,cardLabels:Array},data:function(){return{labelsToEdit:this.cardLabels||[]}},computed:{labeled:function(){var t=this;return!!this.cardLabels&&this.cardLabels.some((function(e){return e===t.label.id}))}},methods:{toggleLabel:function(t){if(this.labelsToEdit.includes(t)){var e=this.labelsToEdit.findIndex((function(e){return e===t}));this.labelsToEdit.splice(e,1)}else this.labelsToEdit.push(t);this.updateLabels()},changeLabelTitle:function(){},updateLabels:function(){this.$emit("updateLabels",this.labelsToEdit)},editLabel:function(){this.$emit("editLabel",Object(Oe["a"])({},this.label))}}},Ge=ze,Ve=Object(f["a"])(Ge,He,Je,!1,null,null,null),qe=Ve.exports,We={props:{optionsLabels:Array,cardLabels:Array},data:function(){return{labelsToEdit:this.cardLabels||[]}},components:{labelPreview:qe},methods:{editLabel:function(t){this.$emit("editLabel",t)},updateLabels:function(t){this.labelsToEdit=t,this.emitLabels()},emitLabels:function(){this.$emit("updateLabels",this.labelsToEdit)},close:function(){this.$emit("closePopups")},toggleCreateLabel:function(){this.$emit("toggleCreateLabel")}}},Qe=We,Ye=Object(f["a"])(Qe,Ne,Fe,!1,null,null,null),Ze=Ye.exports,Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"create-labels",on:{click:function(t){t.stopPropagation()}}},[s("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),s("span",{staticClass:"icon-sm icon-back",on:{click:t.back}}),s("header",[t._v("Create label")]),s("h3",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.labelToEdit.title,expression:"labelToEdit.title"}],attrs:{type:"text"},domProps:{value:t.labelToEdit.title},on:{input:function(e){e.target.composing||t.$set(t.labelToEdit,"title",e.target.value)}}}),s("h3",[t._v("Select a color")]),s("div",{staticClass:"color-options"},t._l(t.colors,(function(e){return s("div",{key:e,staticClass:"color-option",style:{backgroundColor:e},on:{click:function(s){return t.setColor(e)}}},[t.selectedColor===e?s("div",[s("span",{staticClass:"icon-md icon-v"})]):t._e()])})),0),this.label?s("div",{staticClass:"edit-btns"},[s("button",{staticClass:"create-btn",on:{click:t.saveLabel}},[t._v("save")]),s("button",{staticClass:"delete-btn",on:{click:t.removeLabel}},[t._v("Delete")])]):s("button",{staticClass:"create-btn",on:{click:t.createLabel}},[t._v("Create")])])},Xe=[],ts={props:{label:Object},data:function(){return{labelToEdit:JSON.parse(JSON.stringify(this.label))||{title:"",color:"",id:_.makeId()},colors:["#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0","#0079bf","#00c2e0","#51e898","#ff78cb","#344563"]}},methods:{setColor:function(t){this.labelToEdit.color=t},createLabel:function(){this.labelToEdit.color&&(this.$emit("createLabel",Object(Oe["a"])({},this.labelToEdit)),this.labelToEdit={title:"",color:"",id:_.makeId()})},saveLabel:function(){this.$emit("createLabel",Object(Oe["a"])({},this.labelToEdit))},removeLabel:function(){this.$emit("removeLabel",this.label.id)},close:function(){this.$emit("close")},back:function(){this.$emit("back")}},computed:{selectedColor:function(){return this.labelToEdit.color}}},es=ts,ss=Object(f["a"])(es,Ke,Xe,!1,null,null,null),as=ss.exports,is={data:function(){return{isAddingLabel:!1,isCreateLabel:!1,labelToEdit:null}},props:{cardLabels:Array,card:Object,optionsLabels:Array,labels:Array},components:{labelsList:Ze,createLabels:as},methods:{toggleLabels:function(){this.isAddingLabel=!this.isAddingLabel},setLabelToEdit:function(t){this.labelToEdit=t,this.toggleCreateLabel()},createLabel:function(t){this.labelToEdit=null,this.$emit("createLabel",t),this.toggleCreateLabel()},removeLabel:function(t){this.labelToEdit=null,this.toggleCreateLabel(),this.$emit("removeLabel",t)},toggleCreateLabel:function(){this.isAddingLabel=this.isCreateLabel,this.isCreateLabel=!this.isCreateLabel},updateLabels:function(t){this.$emit("updateLabels",t)}},computed:{board:function(){return this.$store.getters.board}}},rs=is,os=Object(f["a"])(rs,Re,Ue,!1,null,null,null),ns=os.exports,cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-main-item"},[t._m(0),s("div",{staticClass:"members-container"},[t._l(t.members,(function(t){return s("div",{key:t._id,staticClass:"memberDisplay list-complete-item",style:{"margin-right":"0"}},[s("avatar",{attrs:{username:t.fullname,size:32,inline:"",color:"black",title:t.fullname}})],1)})),s("div",{staticClass:"add-member-btn list-complete-item"},[s("span",{staticClass:"icon-sm icon-add",on:{click:t.toggleAddingMember}})]),t.isAddingMember?s("members-list",{staticClass:"in-cmp",attrs:{cardMembers:t.members,boardMembers:t.boardMembers},on:{close:t.toggleAddingMember,updateMembers:t.updateMembers}}):t._e()],2)])},ls=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-item-header"},[s("h4",{staticClass:"main-item-title"},[t._v("MEMBERS")])])}],ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"members-list-cmp",on:{click:function(t){t.stopPropagation()}}},[s("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),s("header",[t._v("Board Members")]),s("h4",[t._v("MEMBERS")]),s("div",{staticClass:"member-options"},t._l(t.boardMembers,(function(e){return s("div",{key:e._id},[s("member-preview",{attrs:{member:e,cardMembers:t.membersToEdit},on:{updateMembers:t.updateMembers,updateMentions:t.updateMentions}})],1)})),0)])},us=[],ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"member-preview",on:{click:function(e){return t.toggleMember(t.member._id)}}},[s("div",{staticClass:"inner-container"},[s("avatar",{style:{backgroundColor:"#dfe1e6",color:"#172b4d"},attrs:{username:t.member.fullname,size:32,inline:!0}}),s("span",{staticClass:"member-txt"},[t._v(t._s(t.member.fullname)+" ")]),t.member.username?s("span",{staticClass:"member-txt"},[t._v(" ("+t._s(t.member.username)+") ")]):t._e()],1),t.assigned?s("span",{staticClass:"icon-sm icon-v"}):t._e()])},hs=[],ms={components:{avatar:O.a},props:{member:Object,cardMembers:Array},data:function(){return{membersToEdit:this.cardMembers||[]}},computed:{assigned:function(){var t=this,e=this.cardMembers.some((function(e){return e._id===t.member._id}));return e}},methods:{toggleMember:function(t){var e,s,a=this.membersToEdit.findIndex((function(e){return e._id===t}));-1===a?(this.membersToEdit.push(this.member),e=" added ".concat(this.member.fullname," "),s={txt:" added ",userId:t}):(this.membersToEdit.splice(a,1),e=" removed ".concat(this.member.fullname," "),s={txt:" removed ",userId:t});var i=e;this.updateMembers(i,s)},updateMembers:function(t,e){this.$emit("updateMembers",{newMembers:this.membersToEdit,activityTxt:t}),this.$emit("updateMentions",e)}}},gs=ms,fs=Object(f["a"])(gs,ps,hs,!1,null,null,null),bs=fs.exports,vs={components:{memberPreview:bs},props:{boardMembers:Array,cardMembers:Array},data:function(){return{membersToEdit:this.cardMembers||[]}},methods:{updateMembers:function(t){var e=t.newMembers,s=t.activityTxt;this.membersToEdit=e,this.emitMembers(s)},updateMentions:function(t){this.$emit("updateMentions",t)},emitMembers:function(t){this.$emit("updateMembers",{members:this.membersToEdit,activityTxt:t})},close:function(){this.$emit("close")}}},Cs=vs,ys=Object(f["a"])(Cs,ds,us,!1,null,null,null),ks=ys.exports,ws={props:{members:Array},data:function(){return{isAddingMember:!1}},components:{avatar:O.a,membersList:ks},computed:{boardMembers:function(){return this.$store.getters.board.members}},methods:{toggleAddingMember:function(){this.isAddingMember=!this.isAddingMember},updateMembers:function(t){this.$emit("updateMembers",t)}}},_s=ws,xs=Object(f["a"])(_s,cs,ls,!1,null,null,null),Ts=xs.exports,Es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-main-item"},[s("div",{staticClass:"main-item-header activity"},[t._m(0),s("button",{staticClass:"card-sidebar-btn",on:{click:t.toggleDetails}},[t.showDetails?s("span",[t._v("Hide Details")]):s("span",[t._v("Show Details")])])]),t.activities.length&&t.showDetails?s("div",t._l(t.activities,(function(t){return s("activity-preview",{key:t.id,attrs:{render:"card",activity:t}})})),1):t.activities&&t.activities.length?s("div",[t._l(1,(function(e){return[s("activity-preview",{key:t.activities[e].id,attrs:{activity:t.activities[e]}})]}))],2):t._e()])},$s=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inner-header"},[s("span",{staticClass:"icon-lg icon-activity"}),s("h3",{staticClass:"main-item-title"},[t._v("Activity")])])}],As={props:{activities:Array},data:function(){return{showDetails:!1}},components:{activityPreview:Pt},methods:{toggleDetails:function(){this.showDetails=!this.showDetails}}},Ss=As,Ls=Object(f["a"])(Ss,Es,$s,!1,null,null,null),Ms=Ls.exports,js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-main-item"},[t._m(0),s("div",{staticClass:"checkbox-date-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isCompletedCopy,expression:"isCompletedCopy"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isCompletedCopy)?t._i(t.isCompletedCopy,null)>-1:t.isCompletedCopy},on:{change:[function(e){var s=t.isCompletedCopy,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);a.checked?o<0&&(t.isCompletedCopy=s.concat([r])):o>-1&&(t.isCompletedCopy=s.slice(0,o).concat(s.slice(o+1)))}else t.isCompletedCopy=i},t.toggleCompleted]}}),s("div",{staticClass:"date-container"},[t._v(" "+t._s(t.date)+" "),s("span",{staticClass:"due-date-text",style:{backgroundColor:t.isSoon.backgroundColor,color:t.isSoon.color}},[t._v(t._s(t.isSoon.time))])])])])},Bs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-item-header"},[s("h4",{staticClass:"main-item-title"},[t._v("DUE DATE")])])}],Is={props:{date:String,isCompleted:Boolean},data:function(){return{isCompletedCopy:this.isCompleted}},computed:{isSoon:function(){if(this.isCompleted)return{time:"COMPLETE",backgroundColor:"#61BD4F",color:"white"};var t=Date.parse(new Date),e=Date.parse(this.date),s=e-t;return s<0?{time:"OVERDUE",backgroundColor:"#ec9488",color:"white"}:s<864e5?{time:"DUE SOON",backgroundColor:"#F2D600",color:"#172B4D"}:{time:"",backgroundColor:"rgba(9, 30, 66, 0.08)",color:"#172B4D"}}},methods:{toggleCompleted:function(){this.$emit("toggleCompleted",this.isCompletedCopy)}}},Os=Is,Ds=Object(f["a"])(Os,js,Bs,!1,null,null,null),Ps=Ds.exports,Rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-main-item"},[t._m(0),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.descToEdit,expression:"descToEdit"}],staticClass:"description-textarea",attrs:{spellcheck:"false",placeholder:"Add a more detailed description"},domProps:{value:t.descToEdit},on:{input:[function(e){e.target.composing||(t.descToEdit=e.target.value)},t.updateDesc],focus:function(e){return t.editDesc(!0)},blur:function(e){return t.editDesc(!1)}}}),t.descTextarea?s("button",{staticClass:"desc-save-btn",on:{click:function(e){return e.stopPropagation(),t.editDesc(!1)}}},[t._v(" Save ")]):t._e()])},Us=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-item-header"},[s("span",{staticClass:"icon-lg icon-desc"}),s("h3",{staticClass:"main-item-title"},[t._v("Description")])])}],Ns={props:{description:String},data:function(){return{descTextarea:!1,descToEdit:this.description||""}},methods:{editDesc:function(t){this.descTextarea=t},updateDesc:function(){this.$emit("updateDesc",this.descToEdit)}}},Fs=Ns,Hs=Object(f["a"])(Fs,Rs,Us,!1,null,null,null),Js=Hs.exports,zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checklists"},[s("transition-group",{attrs:{name:"fade"}},t._l(t.checklists,(function(e,a){return s("div",{key:e.id,staticClass:"card-main-item"},[s("checklist-preview",{attrs:{checklist:e},on:{updateChecklist:function(e){return t.updateCl(e,a)},removeCl:function(e){return t.removeCl(a)}}})],1)})),0)],1)},Gs=[],Vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checklist-preview"},[s("div",{staticClass:"main-item-header checklist"},[s("div",{staticClass:"inner-header"},[s("span",{staticClass:"icon-lg icon-checklist"}),s("h3",{staticClass:"main-item-title"},[t._v(t._s(t.checklistToEdit.title))])]),s("button",{staticClass:"card-sidebar-btn",on:{click:t.removeCl}},[t._v("Delete")])]),s("div",{staticClass:"progress-bar-container"},[s("span",[t._v(t._s(t.progressBar.width))]),s("div",{staticClass:"progress-bar"},[s("div",{style:t.progressBar})])]),t._l(t.checklist.todos,(function(e,a){return s("div",{key:e.id,staticClass:"todo"},[s("div",{staticClass:"inner"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"todo.isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDone)?t._i(e.isDone,null)>-1:e.isDone},on:{change:[function(s){var a=e.isDone,i=s.target,r=!!i.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);i.checked?n<0&&t.$set(e,"isDone",a.concat([o])):n>-1&&t.$set(e,"isDone",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(e,"isDone",r)},function(e){return t.toggleTodo(a)}]}}),s("div",{on:{click:function(e){return t.toggleTodo(a)}}},[s("span",{class:{completed:e.isDone}},[t._v(t._s(e.title))])])]),s("div",{staticClass:"todo-btns"},[t._m(0,!0),t._m(1,!0),s("button",[s("span",{staticClass:"icon-sm icon-delete",on:{click:function(e){return t.deleteTodo(a)}}})])])])})),t.addingTodo?s("div",{staticClass:"add-todo-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.todoToAdd.title,expression:"todoToAdd.title"}],ref:"addTodo",staticClass:"add-todo-input",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:t.todoToAdd.title},on:{input:function(e){e.target.composing||t.$set(t.todoToAdd,"title",e.target.value)}}}),s("div",[s("button",{staticClass:"save-todo-btn",on:{click:function(e){return t.addTodo()}}},[t._v("Add")]),s("span",{staticClass:"icon-lg icon-x"})])]):s("button",{staticClass:"add-todo-btn card-sidebar-btn",on:{click:function(e){return t.addTodo()}}},[s("span",[t._v("Add an item")])])],2)},qs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("span",{staticClass:"icon-sm icon-date"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",[s("span",{staticClass:"icon-sm icon-assign"})])}],Ws=(s("b680"),{props:{checklist:Object},data:function(){return{checklistToEdit:Object(Oe["a"])({},this.checklist),addingTodo:!1,todoToAdd:{title:"",isDone:!1,id:_.makeId()}}},computed:{progressBar:function(){if(!this.checklistToEdit.todos.length)return{width:"0%"};var t={done:0,total:0};this.checklistToEdit.todos.forEach((function(e){e.isDone&&t.done++,t.total++}));var e,s=(t.done/t.total*100).toFixed(0)+"%";return"100%"===s&&(e="#61bd4f"),{width:s,"background-color":e}}},methods:{removeCl:function(){this.$emit("removeCl",this.checklistToEdit)},toggleTodo:function(t){var e=this.checklistToEdit.todos[t].isDone?" marked ".concat(this.checklistToEdit.todos[t].title," incomplete "):" completed ".concat(this.checklistToEdit.todos[t].title," "),s=e;this.checklistToEdit.todos[t].isDone=!this.checklistToEdit.todos[t].isDone,this.updateChecklist(s)},deleteTodo:function(t){this.checklistToEdit.todos.splice(t,1),this.updateChecklist()},addTodo:function(){var t=this;if(this.addingTodo=!this.addingTodo,!this.addingTodo)return this.checklistToEdit.todos.push(Object(Oe["a"])({},this.todoToAdd)),this.todoToAdd={title:"",isDone:!1,id:_.makeId()},void this.updateChecklist();this.$nextTick((function(){return t.$refs.addTodo.focus()}))},updateChecklist:function(t){this.$emit("updateChecklist",{checklist:this.checklistToEdit,activityTxt:t})},emitActivity:function(t){this.$emit("emitActivity",t)}}}),Qs=Ws,Ys=Object(f["a"])(Qs,Vs,qs,!1,null,null,null),Zs=Ys.exports,Ks={props:{checklists:Array},components:{checklistPreview:Zs},data:function(){return{checklistsToEdit:JSON.parse(JSON.stringify(this.checklists)),addingTodo:!1}},computed:{},methods:{updateCl:function(t,e){var s=t.checklist,a=t.activityTxt;this.checklistsToEdit.splice(e,1,s),this.updateChecklists(a)},removeCl:function(t){this.checklistsToEdit.splice(t,1),this.updateChecklists()},updateChecklists:function(t){var e=JSON.parse(JSON.stringify(this.checklistsToEdit));this.$emit("updateChecklists",{checklists:e,activityTxt:t})}},watch:{checklists:{handler:function(t){this.checklistsToEdit=t},deep:!0}}},Xs=Ks,ta=Object(f["a"])(Xs,zs,Gs,!1,null,null,null),ea=ta.exports,sa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checklist-add",on:{click:function(t){t.stopPropagation()}}},[s("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),s("header",[t._v("Add checklist")]),s("label",[s("h4",[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checklist.title,expression:"checklist.title"}],ref:"input",attrs:{type:"text",placeholder:"checkList"},domProps:{value:t.checklist.title},on:{input:function(e){e.target.composing||t.$set(t.checklist,"title",e.target.value)}}})]),s("button",{staticClass:"add-cl-btn",on:{click:t.addCl}},[t._v("Add")])])},aa=[],ia={data:function(){return{checklist:{id:_.makeId(),title:"",todos:[]}}},methods:{addCl:function(){this.checklist.title?(this.$emit("addCl",Object(Oe["a"])({},this.checklist)),this.checklist={id:_.makeId(),title:"",todos:[]}):this.$refs.input.focus()},close:function(){this.$emit("closePopups")}},mounted:function(){this.$refs.input.focus()}},ra=ia,oa=Object(f["a"])(ra,sa,aa,!1,null,null,null),na=oa.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"file-upload-cmp",on:{click:function(t){t.stopPropagation()}}},[a("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),a("header",[t._v("Attach an image...")]),a("el-upload",{directives:[{name:"show",rawName:"v-show",value:!t.isUploading,expression:"!isUploading"}],ref:"upload",class:{uploaded:t.isChosen},attrs:{action:"","submit.prevent":"handleFile()","auto-upload":!1,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-change":t.handleChange,"list-type":"picture-card"}},[t.isChosen?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.handleFile.apply(null,arguments)}}},[t._v(" Save image ")]):a("i",{staticClass:"el-icon-plus"})],1),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isUploading,expression:"isUploading"}],staticClass:"loader",attrs:{src:s("5e4c")}}),a("el-dialog",{attrs:{visible:t.dialogVisible,top:"7vh",center:!0,"lock-scroll":!0,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},la=[],da=(s("b0c0"),s("b676")),ua=s("07a2"),pa={props:{attachments:Array},data:function(){return{attachmentsToEdit:this.attachments||[],isUploading:!1,isChosen:!1,dialogImageUrl:"",dialogVisible:!1,uploadedFile:null,attachment:{id:"",isCover:!1,createdAt:null,filename:"",props:{},url:""}}},methods:{handleFile:function(){this.onfileUpload()},handleChange:function(t){if(!t.raw.type.includes("image"))return this.$message.error("Only images can be uploaded."),void this.$refs.upload.clearFiles();this.uploadedFile=JSON.parse(JSON.stringify(t)),this.isChosen=!0,document.querySelector(".el-upload__input").disabled=!0},onfileUpload:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isUploading=!0,e.next=3,Object(da["a"])({url:t.uploadedFile.url,type:"image"});case 3:return s=e.sent,e.next=6,new Promise((function(t){var e=new ua["a"],a=new Image;a.onload=function(){t(e.getColor(a))},a.crossOrigin="Anonymous",a.src=s.url}));case 6:t.attachment.props.colorArray=e.sent,t.attachment.id=_.makeId(),t.attachment.createdAt=Date.now(),t.attachment.filename=t.uploadedFile.name,t.attachment.props.width=s.width,t.attachment.props.height=s.height,t.attachment.props.format=s.format,t.attachment.props.size=s.bytes,t.attachment.url=s.secure_url,t.attachment.props.type="image",document.querySelector(".el-upload__input").disabled=!1,t.close(),t.attachmentsToEdit.push(t.attachment),1===t.attachmentsToEdit.length&&(t.attachmentsToEdit[0].isCover=!0),t.$emit("updateAttachments",t.attachmentsToEdit);case 21:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},handleRemove:function(){this.isChosen=!1,document.querySelector(".el-upload__input").disabled=!1},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},ha=pa,ma=Object(f["a"])(ha,ca,la,!1,null,null,null),ga=ma.exports,fa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-main-item"},[t._m(0),t._l(t.attachments,(function(e){return s("div",{key:e.id,staticClass:"attachment-thumbnail"},[s("a",{staticClass:"attachment-thumbnail-preview",style:"image"===e.props.type?"background-image: url('"+e.url+"'); background-color: rgb("+e.props.colorArray[0]+","+e.props.colorArray[1]+","+e.props.colorArray[2]+"); background-size: 'contain'":"video"===e.props.type?"background-image: url('"+e.props.thumbnail+"'); background-color: "+e.props.colorArray.rgb+"; background-size: 'contain'":"",attrs:{href:e.url,target:"_blank"}},["audio"===e.props.type?s("span",{staticClass:"icon-lg icon-audio",staticStyle:{"font-size":"50px"}}):t._e()]),s("p",{staticClass:"attachment-thumbnail-details"},[s("span",{staticClass:"attachment-thumbnail-name"},[t._v(t._s(e.filename))]),s("a",{staticClass:"attachment-thumbnail-details-title",attrs:{href:e.url,target:"_blank"}},[s("span",{staticClass:"icon-sm icon-external-link"})]),s("span",{staticClass:"attachment-thumbnail-details-title-options"},[s("span",[t._v("Added "),s("span",{staticClass:"date past"},[t._v(t._s(t._f("moment")(e.createdAt,"calendar")))])]),s("span",[s("a",{staticClass:"attachment-thumbnail-details-title-options-item",on:{click:t.commetAttachment}},[s("span",{staticClass:"attachment-thumbnail-details-options-item-text"},[t._v("Comment")])])]),s("span",[s("a",{staticClass:"attachment-thumbnail-details-title-options-item",on:{click:function(s){return t.deleteAttachment(e.id)}}},[s("span",{staticClass:"attachment-thumbnail-details-options-item-text"},[t._v("Delete ")])])]),s("span",[s("a",{staticClass:"attachment-thumbnail-details-title-options-item",on:{click:t.editFileName}},[s("span",{staticClass:"attachment-thumbnail-details-options-item-text"},[t._v("Edit ")])])])]),s("span",{staticClass:"attachment-thumbnail-details-options"},[e.isCover||"audio"===e.props.type?e.isCover&&"audio"!==e.props.type?s("a",{staticClass:"attachment-thumbnail-details-options-item"},[s("span",{staticClass:"icon-sm icon-card-cover"}),s("span",{staticClass:"attachment-thumbnail-details-options-item-text",on:{click:function(s){return t.toggleCover(e.id)}}},[t._v("Remove cover ")])]):t._e():s("a",{staticClass:"attachment-thumbnail-details-options-item"},[s("span",{staticClass:"icon-sm icon-card-cover"}),s("span",{staticClass:"attachment-thumbnail-details-options-item-text",on:{click:function(s){return t.toggleCover(e.id)}}},[t._v("Make cover ")])])])])])}))],2)},ba=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-item-header"},[s("span",{staticClass:"icon-lg icon-attach"}),s("h3",{staticClass:"main-item-title"},[t._v("Attachments")])])}],va={props:{attachments:Array},data:function(){return{attachmentsToEdit:this.attachments}},methods:{commetAttachment:function(){},deleteAttachment:function(t){var e=this.attachmentsToEdit.findIndex((function(e){return e.id===t}));this.attachmentsToEdit.splice(e,1),this.updateAttachments()},editFileName:function(){},toggleCover:function(t){var e=this;this.attachmentsToEdit.forEach((function(s,a){s.id!==t&&e.attachmentsToEdit[a].isCover&&(e.attachmentsToEdit[a].isCover=!1),s.id===t&&(e.attachmentsToEdit[a].isCover=!e.attachmentsToEdit[a].isCover)})),this.updateAttachments()},updateAttachments:function(){var t=JSON.parse(JSON.stringify(this.attachmentsToEdit));this.$emit("updateAttachments",t)}}},Ca=va,ya=Object(f["a"])(Ca,fa,ba,!1,null,null,null),ka=ya.exports,wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"pop-over"},[s("div",{staticClass:"pop-over-header"},[s("span",{staticClass:"pop-over-header-title"},[t._v("Cover")]),s("a",{staticClass:"icon-sm icon-close",on:{click:t.close}})]),s("div",{staticClass:"pop-over-content"},[s("div",{staticClass:"wrapper"},[s("h4",{staticClass:"title"},[t._v("Size")]),s("div",{staticClass:"grid"},[s("div",{staticClass:"button",class:{"is-selected":"top"===t.cardToEdit.cover.layout&&t.cardToEdit.cover.isCover,disabled:!t.cardToEdit.cover.isCover},attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.changeLayout("top")}}},[s("div",{staticClass:"image",style:t.background}),t._m(0)]),s("div",{staticClass:"button",class:{"is-selected":"full"===t.cardToEdit.cover.layout&&t.cardToEdit.cover.isCover,disabled:!t.cardToEdit.cover.isCover},style:t.background,attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.changeLayout("full")}}},[t._m(1)])]),t.cardToEdit.cover.isCover?s("button",{staticClass:"btn",on:{click:t.removeCover}},[t._v(" Remove cover ")]):t._e(),s("h4",{staticClass:"title"},[t._v("Colors")]),s("div",{staticClass:"colors"},t._l(t.colors,(function(e){return s("button",{key:e,staticClass:"color",style:{"background-color":e},on:{click:function(s){return s.stopPropagation(),t.setBgColor(e)}}})})),0),s("h4",{staticClass:"title"},[t._v("Attachments")]),t.cardToEdit.attachments&&t.cardToEdit.attachments.length?s("div",{staticClass:"attachments"},[t._l(t.cardToEdit.attachments,(function(e,a){return["audio"!==e.props.type?s("button",{key:e.id,staticClass:"btn-attach",class:{"is-selected":"attachment"===t.cardToEdit.cover.type&&e.isCover},style:"image"===e.props.type?"background-image: url('"+e.url+"'); background-color: rgb("+e.props.colorArray[0]+","+e.props.colorArray[1]+","+e.props.colorArray[2]+"); background-size: 'contain'":"background-image: url('"+e.props.thumbnail+"'); background-color: "+e.props.colorArray.rgb+"; background-size: 'contain'",on:{click:function(e){return e.stopPropagation(),t.setAttachment(a)}}}):t._e()]}))],2):t._e(),s("button",{staticClass:"btn",on:{click:t.openFileUpload}},[t._v(" Upload a cover image ")]),s("div",{staticClass:"tip"},[t._v("Tip: Drag an image on to the card to upload it.")]),s("h4",{staticClass:"title"},[t._v("unsplash")]),s("div",{staticClass:"photos"},t._l(t.photos,(function(e,a){return s("div",{key:a+1,staticClass:"photo"},[s("button",{staticClass:"btn-photo",style:{"background-image":"url('"+e.url+"')"},on:{click:function(s){return s.stopPropagation(),t.setPhoto(e)}}})])})),0),s("button",{staticClass:"btn",on:{click:t.togglePhotos}},[t._v("Search for photos")])])]),t.isAddingPhotos?s("background-photos",{on:{updateBoard:function(e){return t.setPhoto({url:e.payload.preview,colorArray:[]})},closeMenu:t.togglePhotos}}):t._e()],1)},_a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layover"},[s("div"),s("div"),s("div",[s("div"),s("div")]),s("div")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div"),s("div"),s("div",[s("div"),s("div")]),s("div")])}],xa={components:{backgroundPhotos:se},props:{card:Object},data:function(){return{cardToEdit:this.card,isAddingPhotos:!1,photos:[{url:"https://images.unsplash.com/photo-1495567720989-cebdbdd97913?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80",colorArray:[202,181,174]},{url:"https://images.unsplash.com/photo-1512641406448-6574e777bec6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",colorArray:[43,38,52]},{url:"https://images.unsplash.com/photo-1459745930869-b3d0d72c3cbb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=967&q=80",colorArray:[188,183,178]},{url:"https://images.unsplash.com/photo-1626711656195-4db07dd46c8f?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80",colorArray:[60,67,69]},{url:"https://images.unsplash.com/photo-1422493757035-1e5e03968f95?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",colorArray:[4,12,17]},{url:"https://images.unsplash.com/photo-1626800349607-773f9a7b105c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",colorArray:[198,199,199]}],colors:["#7bc86c","#f5dd29","#ffaf3f","#ef7564","#cd8de5","#5ba4cf","#29cce5","#6deca9","#ff8ed4","#172b4d"]}},computed:{background:function(){return!(!this.card.cover||!this.card.cover.isCover)&&("attachment"===this.cardToEdit.cover.type?"image"===this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.type?"background-image: url('".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].url,"')"):"background-image: url('".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.thumbnail,"')"):"color"===this.cardToEdit.cover.type?"background-color: ".concat(this.cardToEdit.cover.color):"background-image: url('".concat(this.cardToEdit.cover.photo.url,"')"))}},methods:{close:function(){this.$emit("close")},togglePhotos:function(){this.isAddingPhotos=!this.isAddingPhotos},changeLayout:function(t){this.$set(this.cardToEdit.cover,"layout",t),this.$emit("updateCard",this.cardToEdit)},setBgColor:function(t){var e=this;this.$set(this.cardToEdit.cover,"isCover",!0),this.$set(this.cardToEdit.cover,"type","color"),this.$set(this.cardToEdit.cover,"color",t),this.cardToEdit.attachments&&this.cardToEdit.attachments.forEach((function(t){e.$set(t,"isCover",!1)})),this.$set(this.cardToEdit.cover,"photo",null),this.$set(this.cardToEdit.cover,"attachmentIdx",null),this.cardToEdit.cover.layout||this.$set(this.cardToEdit.cover,"layout","top"),this.$emit("updateCard",this.cardToEdit)},setAttachment:function(t){var e=this;this.$set(this.cardToEdit.cover,"isCover",!0),this.$set(this.cardToEdit.cover,"type","attachment"),this.$set(this.cardToEdit.cover,"attachmentIdx",t),this.$set(this.cardToEdit.cover,"photo",null),this.cardToEdit.attachments.forEach((function(t,s){t.isCover&&e.$set(e.cardToEdit.attachments[s],"isCover",!1)})),this.$set(this.cardToEdit.attachments[t],"isCover",!0),this.$emit("updateCard",this.cardToEdit)},setPhoto:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,new Promise((function(e){var s=new ua["a"],a=new Image;a.onload=function(){e(s.getColor(a))},a.crossOrigin="Anonymous",a.src=t.url}));case 2:t.colorArray=s.sent,e.$set(e.cardToEdit.cover,"isCover",!0),e.$set(e.cardToEdit.cover,"type","url"),e.$set(e.cardToEdit.cover,"photo",t),e.$set(e.cardToEdit.cover,"attachmentIdx",null),e.$set(e.cardToEdit.cover,"color",""),e.cardToEdit.attachments&&e.cardToEdit.attachments.forEach((function(t){e.$set(t,"isCover",!1)})),e.cardToEdit.cover.layout||e.$set(e.cardToEdit.cover,"layout","full"),e.$emit("updateCard",e.cardToEdit);case 11:case"end":return s.stop()}}),s)})))()},removeCover:function(){"attachment"===this.cardToEdit.cover.type&&this.$set(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx],"isCover",!1),this.$set(this.cardToEdit,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:"top"}),this.$emit("updateCard",this.cardToEdit)},openFileUpload:function(){this.$emit("toggleAttch")}}},Ta=xa,Ea=Object(f["a"])(Ta,wa,_a,!1,null,null,null),$a=Ea.exports,Aa={props:{card:Object,group:Object},data:function(){return{cardToEdit:this.card,addingTodo:!1,isAddingChecklist:!1,isAddingLabel:!1,isCreateLabel:!1,isAddingMember:!1,isAddingAttachment:!1,isAddingCover:!1,labelToEdit:null,cardDate:""}},components:{labelsCmp:ns,createLabels:as,dateCmp:Ps,membersCmp:Ts,descriptionCmp:Js,checklistsCmp:ea,activityCmp:Ms,labelsList:Ze,checklistAdd:na,membersList:ks,fileUpload:ga,attachmentCmp:ka,coverCmp:$a},methods:{exitCard:function(){this.$emit("clearCard")},closePopups:function(){this.isAddingChecklist=!1,this.isAddingLabel=!1,this.isCreateLabel=!1,this.isAddingMember=!1,this.isAddingAttachment=!1,this.isAddingCover=!1},setLabelToEdit:function(t){this.labelToEdit=t,this.toggleCreateLabel()},toggleCl:function(){var t=this;this.isAddingChecklist||this.closePopups(),this.isAddingChecklist=!this.isAddingChecklist,this.isAddingChecklist&&this.$nextTick((function(){var e=t.$refs.checklistmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.checklistmodal.$el.style.right=0,t.$refs.checklistmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.checklistmodal.$el.style.top=-e.height+"px")}))},toggleCreateLabel:function(){this.isAddingLabel=this.isCreateLabel,this.isCreateLabel=!this.isCreateLabel},toggleLabel:function(){var t=this;this.isAddingLabel||this.closePopups(),this.isAddingLabel=!this.isAddingLabel,this.isAddingLabel&&this.$nextTick((function(){var e=t.$refs.labelmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.labelmodal.$el.style.right=0,t.$refs.labelmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.labelmodal.$el.style.top=-e.height+"px")}))},toggleMember:function(){var t=this;this.isAddingMember||this.closePopups(),this.isAddingMember=!this.isAddingMember,this.isAddingMember&&this.$nextTick((function(){var e=t.$refs.membermodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.membermodal.$el.style.right=0,t.$refs.membermodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.membermodal.$el.style.top=-e.height+"px")}))},toggleAttch:function(){var t=this;this.isAddingAttachment||this.closePopups(),this.isAddingAttachment=!this.isAddingAttachment,this.isAddingAttachment&&this.$nextTick((function(){var e=t.$refs.attachmentmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.attachmentmodal.$el.style.right=0,t.$refs.attachmentmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.attachmentmodal.$el.style.top=-e.height+"px")}))},toggleCover:function(){this.isAddingCover||this.closePopups(),this.cardToEdit.cover||this.$set(this.cardToEdit,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}),this.isAddingCover=!this.isAddingCover},toggleCompleted:function(t){this.cardToEdit.isCompleted=t,this.emitCard()},updateDesc:function(t){this.cardToEdit.description=t,this.emitCard()},updateDate:function(){this.cardToEdit.dueDate=this.cardDate;var t=" changed the due date to ".concat(this.cardDate," ");this.emitCard(t)},updateTitle:function(){this.emitCard()},updateMembers:function(t){var e=t.members,s=t.activityTxt;this.cardToEdit.members=e,this.emitCard(s)},updateMentions:function(t){t.byMember=this.$store.getters.loggedInUser.fullname,t.cId=this.card.id,t.gId=this.group.id,t.dueDate=this.card.dueDate,t.createdAt=Date.now(),t.userId===this.$store.getters.loggedInUser._id?t.isRead=!0:t.isRead=!1,this.$emit("updateMentions",t)},addCl:function(t){this.cardToEdit.checklists||(this.cardToEdit.checklists=[]);var e=JSON.parse(JSON.stringify(this.cardToEdit.checklists));e.push(t),this.cardToEdit.checklists=JSON.parse(JSON.stringify(e)),this.closePopups(),this.emitCard()},updateCL:function(t){var e=t.checklists,s=t.activityTxt;this.cardToEdit.checklists=e,this.emitCard(s)},updateLabels:function(t){this.cardToEdit.labelIds=t,this.emitCard()},joinToCard:function(){var t=this.$store.getters.loggedInUser;"guest"===t.username&&(t._id="g001"),this.cardToEdit.members.push(t);var e=" joined ";this.emitCard(e)},createLabel:function(t,e){this.labelToEdit=null,this.$emit("createLabel",t),this.isAddingLabel=e,this.isCreateLabel=!1},removeLabel:function(t,e){this.labelToEdit=null,this.isAddingLabel=e,this.isCreateLabel=!1,this.$emit("removeLabel",t)},removeCard:function(){this.$emit("removeCard",this.cardToEdit.id)},updateCard:function(t){this.$set(this,"cardToEdit",t),this.emitCard()},emitCard:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=JSON.parse(JSON.stringify(this.cardToEdit)),s={};t&&(s.byMember=this.$store.getters.loggedInUser,s.cTitle=this.card.title,s.cId=this.card.id,s.gId=this.group.id,s.txt=t,s.isSpecific=!0),this.$emit("updateCard",{updatedCard:e,activity:s})},updateAttachments:function(t){var e=this;this.$set(this.cardToEdit,"attachments",t),this.cardToEdit.cover||this.$set(this.cardToEdit,"cover",{}),"attachment"===this.cardToEdit.cover.type&&this.cardToEdit.attachments.every((function(t){return!t.isCover}))?this.$set(this.cardToEdit,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:"top"}):this.cardToEdit.attachments.forEach((function(t,s){t.isCover&&(e.$set(e.cardToEdit.cover,"isCover",!0),e.$set(e.cardToEdit.cover,"type","attachment"),e.$set(e.cardToEdit.cover,"attachmentIdx",s),e.$set(e.cardToEdit.cover,"layout","full"))})),this.emitCard()}},computed:{filteredActivities:function(){var t=this,e=this.$store.getters.board.activities;return e.filter((function(e){return e.cId===t.card.id&&e.gId===t.group.id}))},labelsForDisplay:function(){var t=this,e=this.$store.getters.board.labels;return e.filter((function(e){if(t.cardToEdit.labelIds.includes(e.id))return e}))},loggedUser:function(){return this.$store.getters.loggedInUser},userInCard:function(){var t=this.loggedUser;if(this.cardToEdit.members)return this.cardToEdit.members.some((function(e){return e._id===t._id}))},allUsers:function(){return this.$store.getters.users},board:function(){return this.$store.getters.board},background:function(){return!!this.cardToEdit.cover.isCover&&("attachment"===this.cardToEdit.cover.type?"image"===this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.type?"background-color: rgb(".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray[0],",").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray[1],",").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray[2],"); background-image: url('").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].url,"');"):"background-color: ".concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].props.colorArray.rgb,"; background-image: url('").concat(this.cardToEdit.attachments[this.cardToEdit.cover.attachmentIdx].url,"');"):"color"===this.cardToEdit.cover.type?"background-color: ".concat(this.cardToEdit.cover.color,"; height: 116px"):"background-color: rgb(".concat(this.cardToEdit.cover.photo.colorArray[0],",").concat(this.cardToEdit.cover.photo.colorArray[1],",").concat(this.cardToEdit.cover.photo.colorArray[2],"); background-image: url('").concat(this.cardToEdit.cover.photo.url,"')"))}}},Sa=Aa,La=Object(f["a"])(Sa,De,Pe,!1,null,null,null),Ma=La.exports,ja=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeQuickEdit,expression:"closeQuickEdit"}],staticClass:"card-preview-container",class:{"quick-edit-card":t.isQuickEdit}},[s("section",{ref:"cardpreview",staticClass:"card-preview-inner-container"},[t.card.id&&t.card.cover&&"full"===t.card.cover.layout?["color"===t.card.cover.type||"url"===t.card.cover.type||"attachment"===t.card.cover.type&&"image"===t.card.attachments[t.card.cover.attachmentIdx].props.type?s("section",{staticClass:"card-preview-full-image",class:{color:"color"===t.card.cover.type},style:t.background,on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[t.card.attachments&&t.card.attachments.length&&"audio"===t.card.attachments[0].props.type?s("audio",{attrs:{controls:""}},[s("source",{attrs:{src:t.card.attachments[0].props.url}})]):t._e(),t.cardHover?s("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?t._e():s("span",{staticClass:"card-preview-full-image-title"},[t._v(t._s(t.card.title))]),t.isQuickEdit?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):t._e()]):"attachment"===t.card.cover.type&&"video"===t.card.attachments[t.card.cover.attachmentIdx].props.type?s("section",{staticClass:"card-preview-full-image",style:t.background,on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[s("video",{attrs:{poster:t.card.attachments[t.card.cover.attachmentIdx].props.thumbnail,autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[s("source",{attrs:{src:t.card.attachments[t.card.cover.attachmentIdx].props.url,type:"video/mp4"}})]),t.cardHover?s("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?t._e():s("span",{staticClass:"card-preview-full-image-title video-card"},[t._v(t._s(t.card.title))]),t.isQuickEdit?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):t._e()]):t.card.attachments&&t.card.attachments.length&&"audio"===t.card.attachments[0].props.type?s("section",{staticClass:"card-preview-full-image",on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[s("audio",{attrs:{controls:""}},[s("source",{attrs:{src:t.card.attachments[0].props.url}})]),t.cardHover?s("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?t._e():s("span",{staticClass:"card-preview-full-image-title audio-card"},[t._v(t._s(t.card.title))]),t.isQuickEdit?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):t._e()]):t._e()]:s("section",{staticClass:"card-preview",on:{mouseenter:t.toggleHover,mouseleave:t.toggleHover}},[t.card.cover&&t.card.cover.isCover&&("attachment"===t.card.cover.type||"url"===t.card.cover.type)&&"top"===t.card.cover.layout?[s("div",{staticClass:"card-cover",style:t.background})]:t.card.cover&&t.card.cover.isCover&&"color"===t.card.cover.type&&"top"===t.card.cover.layout?[s("div",{staticClass:"card-cover color",style:t.background})]:t._e(),t.card.labelIds?s("div",{staticClass:"preview-labels-container",on:{click:function(e){return e.stopPropagation(),t.toggleLabels.apply(null,arguments)}}},t._l(t.labelsForDisplay,(function(e){return s("div",{key:e.id,staticClass:"label",class:{shown:t.openLabels},style:{backgroundColor:e.color}},[s("transition",{attrs:{name:"fade"}},[t.showLabels?s("span",[t._v(t._s(e.title))]):t._e()])],1)})),0):t._e(),t.cardHover?s("span",{staticClass:"icon-sm icon-edit",on:{click:function(e){return e.stopPropagation(),t.toggleQuickEdit.apply(null,arguments)}}}):t._e(),t.isQuickEdit?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],ref:"cardtitle",attrs:{spellcheck:"false"},domProps:{value:t.cardTitle},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}):s("span",[t._v(t._s(t.card.title))]),s("div",{staticClass:"preview-indicators-container"},[s("div",{staticClass:"preview-inner-container"},[t.card.checklists&&t.card.checklists.length?s("div",{staticClass:"preview-checklist-container"},[s("span",{staticClass:"icon-sm icon-checklist"}),s("span",{staticClass:"checklist-indicator"},[t._v(t._s(t.checklistToShow))])]):t._e(),t.card.dueDate&&t.card.dueDate.length?s("div",{staticClass:"preview-date-container",style:t.isSoon,on:{mouseover:function(e){t.isHover=!0},mouseout:function(e){t.isHover=!1},click:function(e){return e.stopPropagation(),t.toggleCompleted.apply(null,arguments)}}},[t.isHover?t.card.isCompleted?s("span",{staticClass:"icon-sm icon-checklist"}):s("span",{staticClass:"icon-sm icon-checkbox"}):s("span",{staticClass:"icon-sm icon-date"}),t._v(" "+t._s(t.card.dueDate.slice(5))+" ")]):t._e(),t.card.attachments&&t.card.attachments.length?s("div",{staticClass:"preview-attach-container"},[s("span",{staticClass:"icon-sm icon-attach"}),s("span",{staticClass:"attach-indicator"},[t._v(t._s(t.card.attachments.length))])]):t._e(),t.card.description?s("div",{staticClass:"preview-desc-container"},[s("span",{staticClass:"icon-sm icon-desc"})]):t._e()]),t.card.members?s("transition-group",{staticClass:"preview-members-container",attrs:{name:"list-complete"}},t._l(t.card.members,(function(t){return s("avatar",{key:t._id,staticClass:"member-name list-complete-item",style:{margin:"2px"},attrs:{username:t.fullname,size:28,inline:!0,backgroundColor:"#dfe1e6",color:"#172b4d"}})})),1):t._e()],1),t.card.attachments&&t.card.attachments.length&&"audio"===t.card.attachments[0].props.type?s("audio",{attrs:{controls:""}},[s("source",{attrs:{src:t.card.attachments[0].props.url}})]):t._e()],2),t.isQuickEdit?s("quick-edit",{ref:"quickedit",attrs:{card:t.card,group:t.group},on:{emitCard:t.emitCard,openCard:t.openCard,removeCard:t.removeCard,updateMentions:t.updateMentions,toggleAttach:t.openCard,createLabel:t.createLabel,removeLabel:t.removeLabel}}):t._e()],2),t.isQuickEdit?s("button",{ref:"quickeditsave",staticClass:"quick-edit-btn",on:{click:function(e){return e.stopPropagation(),t.onEndQuickEdit.apply(null,arguments)}}},[t._v(" Save ")]):t._e()])},Ba=[],Ia=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"quick-edit",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"quick-edit-sidebar"},[s("div",{staticClass:"quick-sidebar-btn",on:{click:t.openCard}},[s("span",{staticClass:"icon-sm icon-card"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Open card")])]),s("div",{staticClass:"quick-sidebar-btn",on:{click:t.toggleMember}},[s("span",{staticClass:"icon-sm icon-member"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Change members")]),t.isAddingMember?s("members-list",{ref:"membermodal",attrs:{boardMembers:t.board.members,cardMembers:t.card.members},on:{close:t.closePopups,updateMembers:t.updateMembers,updateMentions:t.updateMentions}}):t._e()],1),s("div",{staticClass:"quick-sidebar-btn",on:{click:t.toggleLabel}},[s("span",{staticClass:"icon-sm icon-label"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Edit labels")]),t.isAddingLabel?s("labels-list",{ref:"labelmodal",attrs:{optionsLabels:t.board.labels,cardLabels:t.card.labelIds},on:{updateLabels:t.updateLabels,closePopups:t.closePopups,toggleCreateLabel:t.toggleCreateLabel,editLabel:t.setLabelToEdit}}):t._e(),t.isCreateLabel?s("create-labels",{attrs:{label:t.labelToEdit},on:{close:t.closePopups,createLabel:t.createLabel,removeLabel:t.removeLabel,back:t.toggleCreateLabel}}):t._e()],1),s("el-date-picker",{attrs:{placeholder:"Edit dates",type:"date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},on:{change:t.updateDate},model:{value:t.cardDate,callback:function(e){t.cardDate=e},expression:"cardDate"}},[s("span",{staticClass:"icon-sm icon-date"})]),s("div",{staticClass:"quick-sidebar-btn",on:{click:t.toggleCover}},[s("span",{staticClass:"icon-sm icon-cover"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Cover")])]),t.isAddingCover?s("cover-cmp",{ref:"covermodal",attrs:{card:t.cardToEdit},on:{close:t.closePopups,updateCard:t.emitCard,toggleAttch:t.toggleAttch}}):t._e(),s("div",{staticClass:"quick-sidebar-btn delete",on:{click:t.removeCard}},[s("span",{staticClass:"icon-sm icon-minus"}),s("p",{staticClass:"sidebar-btn-title"},[t._v("Delete")])])],1)])},Oa=[],Da={props:{card:Object,group:Object},components:{membersList:ks,labelsList:Ze,coverCmp:$a,createLabels:as},data:function(){return{cardToEdit:null,isAddingLabel:!1,isAddingMember:!1,isAddingAttachment:!1,isAddingCover:!1,isCreateLabel:!1,labelToEdit:null,cardDate:""}},computed:{board:function(){return this.$store.getters.board}},methods:{setLabelToEdit:function(t){this.labelToEdit=t,this.toggleCreateLabel()},createLabel:function(t){this.labelToEdit=null,this.$emit("createLabel",t),this.toggleCreateLabel()},removeLabel:function(t){this.labelToEdit=null,this.toggleCreateLabel(),this.$emit("removeLabel",t)},closePopups:function(){this.isAddingLabel=!1,this.isAddingMember=!1,this.isAddingAttachment=!1,this.isAddingCover=!1,this.isCreateLabel=!1},toggleCreateLabel:function(){this.isAddingLabel=this.isCreateLabel,this.isCreateLabel=!this.isCreateLabel},toggleLabel:function(){var t=this;this.isAddingLabel||this.closePopups(),this.isAddingLabel=!this.isAddingLabel,this.isAddingLabel&&this.$nextTick((function(){var e=t.$refs.labelmodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.labelmodal.$el.style.right=0,t.$refs.labelmodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.labelmodal.$el.style.top=-e.height+"px")}))},toggleMember:function(){var t=this;this.isAddingMember||this.closePopups(),this.isAddingMember=!this.isAddingMember,this.isAddingMember&&this.$nextTick((function(){var e=t.$refs.membermodal.$el.getBoundingClientRect();window.innerWidth-e.left<305&&(t.$refs.membermodal.$el.style.right=0,t.$refs.membermodal.$el.style.left="unset"),window.innerHeight-e.top<e.height&&(t.$refs.membermodal.$el.style.top=-e.height+"px")}))},toggleAttch:function(){this.$emit("toggleAttach")},toggleCover:function(t){var e=this;this.isAddingCover||this.closePopups(),this.isAddingCover=!this.isAddingCover,this.isAddingCover&&this.$nextTick((function(){var s=e.$refs.covermodal.$el.getBoundingClientRect();window.innerWidth-s.left<305&&(e.$refs.covermodal.$el.style.right=0,e.$refs.covermodal.$el.style.left="unset"),window.innerHeight-s.top<585&&(e.$refs.covermodal.$el.style.top=-(t.target.getBoundingClientRect().top-565+38)+"px")}))},updateDate:function(){this.cardToEdit.dueDate=this.cardDate;var t=" changed the due date to ".concat(this.cardDate," ");this.emitCard(t)},updateTitle:function(){this.emitCard()},updateMembers:function(t){var e=t.members,s=t.activityTxt;this.cardToEdit.members=e,this.emitCard(s)},updateLabels:function(t){this.cardToEdit.labelIds=t,this.emitCard()},updateMentions:function(t){this.$emit("updateMentions",t)},openCard:function(){this.$emit("openCard")},emitCard:function(t){var e=JSON.parse(JSON.stringify(this.cardToEdit));this.$emit("emitCard",{updatedCard:e,activityTxt:t})},removeCard:function(){this.$emit("removeCard",this.cardToEdit.id)}},created:function(){this.cardToEdit=JSON.parse(JSON.stringify(this.card))}},Pa=Da,Ra=Object(f["a"])(Pa,Ia,Oa,!1,null,null,null),Ua=Ra.exports,Na={name:"cardPreview",components:{avatar:O.a,quickEdit:Ua},data:function(){return{openLabels:!1,showLabels:!1,cardHover:!1,isQuickEdit:!1,cardTitle:this.card.title,isHover:!1}},props:{card:Object,group:Object},computed:{background:function(){return!!this.card.cover.isCover&&("attachment"===this.card.cover.type?"image"===this.card.attachments[this.card.cover.attachmentIdx].props.type?"background-color: rgb(".concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray[0],",").concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray[1],",").concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray[2],"); background-image: url('").concat(this.card.attachments[this.card.cover.attachmentIdx].url,"'); height: 245px"):"top"===this.card.cover.layout?"background-image: url(".concat(this.card.attachments[this.card.cover.attachmentIdx].props.thumbnail,"); background-color: ").concat(this.card.attachments[this.card.cover.attachmentIdx].props.colorArray.rgb,"; height: 245px"):"height: 245px":"color"===this.card.cover.type?"background-color: ".concat(this.card.cover.color,"; height: ").concat("full"===this.card.cover.layout?this.card.attachments&&this.card.attachments.length&&"audio"===this.card.attachments[0].props.type?"80px":"56px":"32px"):"background-color: rgb(".concat(this.card.cover.photo.colorArray[0],",").concat(this.card.cover.photo.colorArray[1],",").concat(this.card.cover.photo.colorArray[2],");background-image: url('").concat(this.card.cover.photo.url,"');min-height: 245px"))},labelsForDisplay:function(){var t=this,e=this.$store.getters.board.labels;return e.filter((function(e){if(t.card.labelIds.includes(e.id))return e}))},checklistToShow:function(){var t=0,e=0;return this.card.checklists.forEach((function(s){s.todos.forEach((function(s){t++,s.isDone&&e++}))})),"".concat(e,"/").concat(t)},isSoon:function(){if(this.card.isCompleted)return{backgroundColor:"#61BD4F",color:"white"};var t=Date.parse(new Date),e=Date.parse(this.card.dueDate),s=e-t;return s<0?{backgroundColor:"#eb5a46",color:"white"}:s<864e5?{backgroundColor:"#F2D600",color:"#172B4D"}:{backgroundColor:"rgba(9, 30, 66, 0.08)",color:"#5e6c84"}}},methods:{removeCard:function(t){this.toggleQuickEdit(),this.$emit("removeCard",t)},openCard:function(){this.toggleQuickEdit(),this.$emit("openCard",this.card)},toggleCompleted:function(){var t=JSON.parse(JSON.stringify(this.card));t.isCompleted=!t.isCompleted;var e=t.isCompleted?" marked completed ":" marked incomplete ";this.emitCard({updatedCard:t,activityTxt:e})},toggleHover:function(){this.cardHover=!this.cardHover},toggleQuickEdit:function(t){var e=this;this.$emit("openBg"),this.isQuickEdit=!this.isQuickEdit,this.isQuickEdit&&this.$nextTick((function(){e.$refs.cardtitle.select();var s=t.target.getBoundingClientRect();window.innerHeight-s.y<210&&(s.y=window.innerHeight-210),window.innerWidth-s.x<200&&(s.x=window.innerWidth-(window.innerWidth-s.x+474-38),e.$refs.quickedit.$el.children[0].classList.add("invert"),document.querySelector(".el-date-editor").classList.add("invert")),e.$refs.quickedit.$el.style.top="".concat(s.y-6,"px"),e.$refs.quickedit.$el.style.left="".concat(s.x+20,"px"),s=e.$refs.cardpreview.getBoundingClientRect(),e.$refs.quickeditsave.style.top="".concat(s.bottom,"px"),e.$refs.quickeditsave.style.left="".concat(s.left,"px")}))},closeQuickEdit:function(){this.isQuickEdit=!1},toggleLabels:function(){var t=this;this.openLabels=!this.openLabels,this.showLabels?this.showLabels=!this.showLabels:setTimeout((function(){t.showLabels=!t.showLabels}),500)},onEndQuickEdit:function(){if(this.cardTitle){var t=JSON.parse(JSON.stringify(this.card));t.title=this.cardTitle;var e=" changed the title to ".concat(t.title," ");this.emitCard({updatedCard:t,activityTxt:e}),this.toggleQuickEdit()}else this.$refs.cardtitle.focus()},emitCard:function(t){var e=this,s=t.updatedCard,a=t.activityTxt,i=JSON.parse(JSON.stringify(s)),r={};a&&(r.byMember=this.$store.getters.loggedInUser,r.cTitle=this.card.title,r.cId=this.card.id,r.gId=this.group.id,r.txt=a,r.isSpecific=!0),this.$emit("updateCard",{updatedCard:i,activity:r}),this.$nextTick((function(){var t=e.$refs.cardpreview.getBoundingClientRect();e.$refs.quickeditsave.style.top="".concat(t.bottom,"px"),e.$refs.quickeditsave.style.left="".concat(t.left,"px")}))},createLabel:function(t){this.$emit("createLabel",t)},removeLabel:function(t){this.$emit("removeLabel",t)},updateMentions:function(t){t.byMember=this.$store.getters.loggedInUser.fullname,t.cId=this.card.id,t.gId=this.group.id,t.dueDate=this.card.dueDate,t.createdAt=Date.now(),t.userId===this.$store.getters.loggedInUser._id?t.isRead=!0:t.isRead=!1,this.$emit("updateMentions",t)}},directives:{ClickOutside:P.a},mounted:function(){this.popupItem=this.$el}},Fa=Na,Ha=Object(f["a"])(Fa,ja,Ba,!1,null,null,null),Ja=Ha.exports,za=s("b76a"),Ga=s.n(za),Va=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"file-upload-cmp video"},[s("span",{staticClass:"icon-sm icon-x",on:{click:t.close}}),s("header",[t._v("Upload your video...")]),s("video",{staticClass:"video-js vjs-default-skin",attrs:{id:"myVideo",playsinline:""}}),t.isFinished?s("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.saveVideo.apply(null,arguments)}}},[t._v(" Save Video ")]):t._e(),t.isUploading?[t._m(0)]:t._e()],2)},qa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploading video-card"},[a("img",{staticClass:"spinner small",attrs:{src:s("5e4c")}}),a("span",[t._v("Uploading…")])])}],Wa=(s("2b3d"),s("fda2"),s("d52a"),s("3966")),Qa=s.n(Wa),Ya=s("a9ee"),Za=s.n(Ya),Ka=s("f0e2"),Xa=(s("d093"),s("708e")),ti={data:function(){return{player:null,options:{controls:!0,bigPlayButton:!1,width:500,height:375,fluid:!1,plugins:{record:{audio:!0,video:!0,maxLength:10,debug:!1}}},isFinished:!1,isUploading:!1}},mounted:function(){var t=this;this.player=Object(Ka["default"])("myVideo",this.options,(function(){Ka["default"].getPluginVersion(Qa.a),Za.a.version})),this.player.on("deviceError",(function(){console.log("device error:",t.player.deviceErrorCode)})),this.player.on("error",(function(t){console.error(t)})),this.player.on("startRecord",(function(){t.isFinished=!1})),this.player.on("finishRecord",(function(){t.isFinished=!0}))},methods:{saveVideo:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isUploading=!0,s={url:URL.createObjectURL(t.player.recordedData),type:"video"},e.next=4,Object(da["a"])(s);case 4:return a=e.sent,i=new Xa["a"](t.player.recordedData),e.next=8,i.getThumbnails({interval:1,start:0,end:0,quality:.8});case 8:return a.thumbnail=e.sent,r=new FileReader,r.readAsDataURL(a.thumbnail[0].blob),e.next=13,new Promise((function(t){r.onload=function(){t(r.result)}}));case 13:a.thumbnail=e.sent,o=new T["a"],a.color=o.getColor(i.videoElement),t.$emit("videoRecord",a);case 17:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("toggleVideoRecord")}},beforeDestroy:function(){this.player.dispose()}},ei=ti,si=Object(f["a"])(ei,Va,qa,!1,null,null,null),ai=si.exports,ii=s("e774"),ri={props:{groups:Array,bgImage:Object},directives:{clickOutside:P.a},data:function(){return{isAddingGroup:!1,isAddingCard:!1,groupsToEdit:null,groupToEdit:{id:_.makeId(),title:"",createdAt:Date.now(),cards:[]},currCard:null,currGroupIdx:null,isExtrasShowing:!1,cardToEdit:{id:_.makeId(),title:"",createdAt:Date.now(),attachments:[],cover:{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}},isScrolling:!1,isRecordingVideo:!1,isRecordingAudio:!1}},components:{cardPreview:Ja,cardDetails:Ma,draggable:Ga.a,videoRecord:ai,audioRecord:function(){return s.e("chunk-59a80db7").then(s.bind(null,"054c"))}},computed:{height:function(){return this.getTextHeight()},audioRecord:function(){return this.isRecordingAudio?"audioRecord":""}},methods:{startDragCard:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=document.querySelector(".card-preview-container.chosen"),s.classList.remove("drag"),s.classList.remove("chosen"),t.setDragImage(document.createElement("div"),0,0),e.prev=4,e.next=7,Object(ii["a"])(s);case 7:a=e.sent,i=new Image,i.src=a,document.body.appendChild(i),i.classList.add("cloned"),document.body.addEventListener("drag",(function(t){i.style.left="".concat(t.x-30,"px"),i.style.top="".concat(t.y-30,"px")})),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),console.error("oops, something went wrong with rendering the element.",e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))()},startDragGroup:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=document.querySelector(".group-wrapper.chosen"),s.classList.remove("drag"),s.classList.remove("chosen"),t.setDragImage(document.createElement("div"),0,0),e.prev=4,e.next=7,Object(ii["a"])(s);case 7:a=e.sent,i=new Image,i.src=a,document.body.appendChild(i),i.classList.add("cloned"),document.body.addEventListener("drag",(function(t){i.style.left="".concat(t.x-30,"px"),i.style.top="".concat(t.y-30,"px")})),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),console.error("oops, something went wrong with rendering the element.",e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))()},endDrag:function(){var t=document.querySelector(".cloned");document.body.removeChild(t),document.body.removeEventListener("drag",(function(){}))},createLabel:function(t){this.$emit("createLabel",t)},removeLabel:function(t){this.$emit("removeLabel",t)},closeCardEdit:function(t){this.isAddingCard=!1,this.$refs["card-preview-wrapper-".concat(t)][0].classList.remove("is-editing"),this.cardToEdit.title=""},saveCard:function(t,e){if(this.cardToEdit.title){var s=Object(Oe["a"])({},this.cardToEdit);s.id=_.makeId(),this.groupsToEdit[t].cards.push(s);var a={gId:this.groupsToEdit[t].id,cTitle:s.title,txt:' added card "'.concat(s.title,'" to list "').concat(this.groupsToEdit[t].title,'" '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.saveGroups(a),this.cardToEdit.title="",this.cardToEdit.attachments=[],e||this.$refs["content-".concat(t)][0].focus()}else this.$refs["content-".concat(t)][0].focus()},toggleCardEdit:function(t){var e=this;this.isExtrasShowing=!1,this.$refs["card-preview-wrapper-".concat(t)][0].classList.toggle("is-editing"),this.isAddingCard&&t!==this.currGroupIdx?this.currGroupIdx=t:(this.currGroupIdx=t,this.isAddingCard=!this.isAddingCard),this.isAddingCard?this.$nextTick((function(){return e.$refs["content-".concat(t)][0].focus()})):this.cardToEdit.title&&this.saveCard(t)},toggleExtras:function(t){this.isAddingCard=!1,this.isExtrasShowing&&t!==this.currGroupIdx?this.currGroupIdx=t:(this.currGroupIdx=t,this.isExtrasShowing=!this.isExtrasShowing)},openBg:function(){this.$emit("openBg")},openCard:function(t,e,s){this.setCard(t,e,s)},setCard:function(t,e,s){t.cover||this.$set(t,"cover",{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}),this.currCard=t,this.currGroupIdx=e,this.$refs["cardpreview-".concat(e,"-").concat(s)][0].isQuickEdit=!1,this.$parent.bgOpen=!1},clearCard:function(){this.currCard=null,this.currGroupIdx=null},removeCard:function(t,e){var s=this.groupsToEdit[e].cards.findIndex((function(e){return e.id===t})),a={gId:this.groupsToEdit[e].id,cTitle:this.groupsToEdit[e].cards[s].title,txt:' removed card "'.concat(this.groupsToEdit[e].cards[s].title,'" from list "').concat(this.groupsToEdit[e].title,'" '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.groupsToEdit[e].cards.splice(s,1),this.clearCard(),this.saveGroups(a)},updateCard:function(t,e){var s=t.updatedCard,a=t.activity,i=this.groupsToEdit[e].cards.findIndex((function(t){return t.id===s.id}));this.groupsToEdit[e].cards.splice(i,1,s),ut.emit("send card",{payload:s,cIdx:i,gIdx:e}),this.saveGroups(a)},updateMentions:function(t){this.$emit("updateMentions",t)},saveGroups:function(t){this.$emit("boardUpdate",{type:"groups",payload:this.groupsToEdit,activities:t}),ut.emit("send groups",this.groupsToEdit)},saveGroup:function(){var t=Object(Oe["a"])({},this.groupToEdit);t.id=_.makeId(),this.groupsToEdit.push(t);var e={gId:t.id,gTitle:t.title,txt:' added list "'.concat(t.title,'" to this board '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.saveGroups(e),this.groupToEdit.title=""},deleteGroup:function(t){var e={gTitle:this.groupsToEdit[t].title,txt:' removed list "'.concat(this.groupsToEdit[t].title,'" from this board '),byMember:this.$store.getters.loggedInUser,isSpecific:!1};this.groupsToEdit.splice(t,1),this.currGroupIdx=null,this.isExtrasShowing=!1,this.saveGroups(e)},toggleGroupEdit:function(){var t=this;this.isAddingGroup=!this.isAddingGroup,this.isAddingGroup?this.$nextTick((function(){t.$refs.newgroupcontent.focus()})):this.groupToEdit.title&&this.saveGroup()},closeGroupEdit:function(){this.isAddingGroup=!1,this.groupToEdit.title=""},textHeight:function(t,e){var s=document.createElement("div");s.style.font="Segoe UI",s.style.fontSize="14px",s.style.height="auto",s.style.width="228px",s.style.position="absolute",s.style.whiteSpace="no-wrap",s.style.lineBreak="anywhere",s.style.paddingBlock="2px",s.style.paddingInline="8px",s.style.lineHeight="20px",s.innerHTML=t?t.target.value:this.$refs.grouptitle[e].value,document.body.appendChild(s);var a=Math.ceil(s.clientHeight),i=a+"px";document.body.removeChild(s),t?t.target.style.height=i:this.$refs.grouptitle[e].style.height=i},dragList:function(t){this.isScrolling&&1===t.buttons&&(document.body.style.userSelect="none",document.querySelector(".group-list").scrollBy({top:0,left:t.movementX?-t.movementX:t.movementX}))},setPageScroll:function(t){"group-list"===t.target.className&&(this.isScrolling=!0)},unsetPageScroll:function(){this.isScrolling=!1,document.body.style.userSelect="unset"},toggleVideoRecord:function(t){this.currGroupIdx=t,this.isRecordingVideo=!this.isRecordingVideo},toggleAudioRecord:function(t){this.currGroupIdx=t,this.isRecordingAudio=!this.isRecordingAudio},addVideoCard:function(t){this.isRecordingVideo=!1;var e={id:_.makeId(),createdAt:Date.now(),isCover:!0,filename:"".concat(t.public_id,".").concat(t.format),props:{width:t.width,height:t.height,format:t.format,size:t.bytes,url:t.secure_url,type:"video",colorArray:t.color,thumbnail:t.thumbnail}};this.cardToEdit.attachments.push(JSON.parse(JSON.stringify(e))),this.cardToEdit.title="Video Card",this.cardToEdit.cover.isCover=!0,this.cardToEdit.cover.type="attachment",this.cardToEdit.cover.layout="full",this.cardToEdit.cover.attachmentIdx=0,this.saveCard(this.currGroupIdx,"video"),this.cardToEdit={id:_.makeId(),title:"",createdAt:Date.now(),attachments:[],cover:{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}}},addAudioCard:function(t){console.log(t),this.isRecordingAudio=!1;var e={id:_.makeId(),createdAt:Date.now(),isCover:!1,filename:"Audio file",props:{format:t.format,size:t.bytes,url:t.secure_url,type:"audio"}};this.cardToEdit.attachments.push(JSON.parse(JSON.stringify(e))),this.cardToEdit.title="Audio Card",this.cardToEdit.cover.isCover=!1,this.cardToEdit.cover.type="attachment",this.cardToEdit.cover.layout="top",this.cardToEdit.cover.attachmentIdx=0,this.saveCard(this.currGroupIdx,"audio"),this.cardToEdit={id:_.makeId(),title:"",createdAt:Date.now(),attachments:[],cover:{isCover:!1,type:"",color:"",attachmentIdx:null,photo:{url:"",colorArray:[]},layout:""}}}},created:function(){this.groupsToEdit=JSON.parse(JSON.stringify(this.groups))},mounted:function(){var t=this;this.popupItem=this.$refs.addgroup,this.$refs.grouptitle.forEach((function(e,s){t.$refs.grouptitle[s].style.height=t.textHeight(null,s)})),document.addEventListener("mouseleave",(function(){t.isScrolling=!1,document.body.style.userSelect="unset"}))},destroyed:function(){var t=this;document.removeEventListener("mouseleave",(function(){t.isScrolling=!1,document.body.style.userSelect="unset"}))},watch:{groups:{immediate:!0,handler:function(){this.groupsToEdit=JSON.parse(JSON.stringify(this.groups))}}}},oi=ri,ni=Object(f["a"])(oi,Be,Ie,!1,null,null,null),ci=ni.exports,li=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-dashboard"},[s("h2",[t._v(t._s(t.board.title)+" Dashboard")]),s("div",{staticClass:"board-indicators"},[s("div",{staticClass:"indicator"},[t._m(0),s("div",{staticClass:"indicator-info"},[s("h4",[t._v("MEMBERS")]),s("h3",[t._v(t._s(t.members))])])]),s("div",{staticClass:"indicator"},[t._m(1),s("div",{staticClass:"indicator-info"},[s("h4",[t._v("TOTAL TASKS")]),s("h3",[t._v(t._s(t.tasks.tasksCounter))])])]),s("div",{staticClass:"indicator"},[t._m(2),s("div",{staticClass:"indicator-info"},[s("h4",[t._v("COMPLETED TASKS")]),s("h3",[t._v(t._s(t.tasks.completedCounter))])])]),s("div",{staticClass:"indicator"},[t._m(3),s("div",{staticClass:"indicator-info"},[s("h4",[t._v("INCOMPLETE TASKS")]),s("h3",[t._v(t._s(t.tasks.incompleteCounter))])])])]),s("div",{staticClass:"dashboard-container"},[s("div",{staticClass:"charts-container"},[s("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"25vw"}},[s("h4",[t._v("Card Per List")]),s("cards-chart",{staticClass:"chart",attrs:{board:t.board}})],1),s("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"25vw"}},[s("h4",[t._v("Cards Per Member")]),s("members-chart",{staticClass:"chart",attrs:{board:t.board}})],1)])])])},di=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"indic-icon-container members"},[s("span",{staticClass:"icon-lg icon-remove-members"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"indic-icon-container tasks"},[s("span",{staticClass:"icon-lg icon-activity"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"indic-icon-container completed-icon"},[s("span",{staticClass:"icon-lg icon-v"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"indic-icon-container incomplete"},[s("span",{staticClass:"icon-lg icon-x"})])}],ui=s("1fca"),pi={extends:ui["a"],props:{board:Object},mounted:function(){this.renderChart({labels:this.members,datasets:[{label:"Cards per member",backgroundColor:["#E5E8E8","#FADBD8","#E8DAEF","#D5F5E3","#D5D8DC","#F2F3F4","#D6EAF8","#D0ECE7","#FDEBD0","#F6DDCC"],data:this.cardPerMember,barPercentage:.7,borderWidth:2}]},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,legend:{display:!1}})},computed:{members:function(){if(!this.board.members)return[];var t=this.board.members.map((function(t){return t.fullname}));return t},cardPerMember:function(){var t=this;return this.members.map((function(e){var s=0;return t.board.groups?(t.board.groups.forEach((function(t){t.cards&&t.cards.forEach((function(t){if(t.members){var a=t.members.some((function(t){return t.fullname===e}));a&&s++}}))})),s):s}))}}},hi=pi,mi=Object(f["a"])(hi,Gt,Vt,!1,null,null,null),gi=mi.exports,fi={extends:ui["a"],props:{board:Object},mounted:function(){this.renderChart({labels:this.groups,datasets:[{label:"Cards per list",backgroundColor:["#FADBD8","#E8DAEF","#D6EAF8","#D0ECE7","#D5F5E3","#FDEBD0","#F6DDCC","#F2F3F4","#E5E8E8","#D5D8DC"],data:this.cards,barPercentage:.7,borderWidth:2}]},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,legend:{display:!1}})},computed:{groups:function(){return this.board.groups?this.board.groups.map((function(t){return t.title})):[]},cards:function(){return this.board.groups?this.board.groups.map((function(t){return t.cards.length})):[]}}},bi=fi,vi=Object(f["a"])(bi,qt,Wt,!1,null,null,null),Ci=vi.exports,yi={props:{board:Object},components:{membersChart:gi,cardsChart:Ci},computed:{members:function(){return this.board.members.length},tasks:function(){var t=0,e=0,s=0;return this.board.groups?(this.board.groups.forEach((function(a){a.cards&&(t+=a.cards.length,a.cards.forEach((function(t){t.isCompleted?e++:s++})))})),{tasksCounter:t,completedCounter:e,incompleteCounter:s}):{tasksCounter:t,completedCounter:e,incompleteCounter:s}}}},ki=yi,wi=Object(f["a"])(ki,li,di,!1,null,null,null),_i=wi.exports,xi={data:function(){return{bgOpen:!1,showDashboard:!1}},computed:{board:function(){return this.$store.getters.board}},components:{boardHeader:je,groupList:ci,boardDashboard:_i},methods:{addActivity:function(t){var e=JSON.parse(JSON.stringify(this.board)).activities;t.id=_.makeId(),t.createdAt=Date.now(),e.unshift(t),this.boardUpdate({type:"activities",payload:e})},createLabel:function(t){var e=JSON.parse(JSON.stringify(this.board)).labels,s=e.findIndex((function(e){return e.id===t.id}));-1===s?e.push(t):e.splice(s,1,t),this.boardUpdate({type:"labels",payload:e})},removeLabel:function(t){var e=JSON.parse(JSON.stringify(this.board)).labels,s=e.findIndex((function(e){return e.id===t}));e.splice(s,1),this.boardUpdate({type:"labels",payload:e})},updateMentions:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.bId=e.board._id,t.id=_.makeId(),s.prev=2,s.next=5,e.$store.dispatch({type:"getById",userId:t.userId});case 5:a=s.sent,a.mentions?a.mentions.unshift(t):a.mentions=[t],ut.emit("send mention",t),e.$store.dispatch({type:"updateUser",userToUpdate:a}),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](2),console.log(s.t0);case 14:case"end":return s.stop()}}),s,null,[[2,11]])})))()},boardUpdate:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=JSON.parse(JSON.stringify(e.board)),a[t.type]=t.payload,t.activities&&t.activities.txt&&(t.activities.id=_.makeId(),t.activities.createdAt=Date.now(),a.activities.unshift(t.activities),ut.emit("send activities",a.activities)),s.prev=3,s.next=6,e.$store.dispatch({type:"saveBoard",board:a});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](3),console.log("couldn't save board",s.t0);case 11:case"end":return s.stop()}}),s,null,[[3,8]])})))()},toggleDashboard:function(){this.showDashboard=!this.showDashboard,this.toggleBg()},toggleBg:function(){this.bgOpen&&(this.showDashboard=!1),this.bgOpen=!this.bgOpen,this.bgOpen?this.$refs.grouplist.$el.classList.add("bg-open"):this.$refs.grouplist.$el.classList.remove("bg-open")},updateCard:function(t){this.$store.commit({type:"cardChanged",card:t})},updateGroups:function(t){this.$store.commit({type:"groupsChanged",groups:t})},updateTitle:function(t){this.$store.commit({type:"titleChanged",title:t})},updateStyle:function(t){this.$store.commit({type:"styleChanged",style:t})},updateMembers:function(t){this.$store.commit({type:"membersChanged",members:t})},updateActivities:function(t){this.$store.commit({type:"activitiesChanged",activities:t})}},created:function(){ut.on("card updated",this.updateCard),ut.on("groups updated",this.updateGroups),ut.on("title updated",this.updateTitle),ut.on("style updated",this.updateStyle),ut.on("members updated",this.updateMembers),ut.on("activities updated",this.updateActivities)},destroyed:function(){ut.off("card updated",this.updateCard),ut.off("groups updated",this.updateGroups),ut.off("title updated",this.updateTitle),ut.off("style updated",this.updateStyle),ut.off("members updated",this.updateMembers),ut.off("activities updated",this.updateActivities)},watch:{"$route.params.boardId":{immediate:!0,handler:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.params.boardId){e.next=12;break}return s=t.$route.params.boardId,ut.emit("board changed",s),e.prev=3,e.next=6,t.$store.dispatch({type:"loadBoards"});case 6:t.$store.commit("getBoardById",s),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log("didnt find board",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))()}}}},Ti=xi,Ei=Object(f["a"])(Ti,Et,$t,!1,null,null,null),$i=Ei.exports,Ai=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"homepage-container"},[s("div",{staticClass:"homepage-1"},[s("h1",{staticClass:"homepage-logo",attrs:{"data-aos":"slide-down","data-aos-mirror":"true","data-aos-duration":"500"}},[t._v(" Trailing ")]),s("h1",{staticClass:"logo-quote",attrs:{"data-aos":"slide-down","data-aos-duration":"500"}},[t._v(" Work smart, work together. ")]),s("router-link",{staticClass:"boards-link",attrs:{"data-aos-duration":"500",to:"/boards","data-aos":"slide-up","data-aos-mirror":"true"}},[t._v("Get started")]),t._m(0)],1),t._m(1),t._m(2),t._m(3),s("div",{staticClass:"homepage-5"},[s("h1",{staticClass:"homepage-5-header"},[t._v("What are you waiting for?")]),s("router-link",{staticClass:"boards-link",attrs:{to:"/boards"}},[t._v("Get started")])],1),s("transition",{attrs:{name:"fade"}},[t.isScroll?s("button",{staticClass:"icon-lg icon-top",on:{click:t.scroll}}):t._e()])],1)},Si=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"motivational",attrs:{"data-aos":"fade-left","data-aos-mirror":"true","data-aos-duration":"500"}},[t._v(" “Either you run the day or the day runs you.” "),s("span",{staticClass:"motivational-author"},[t._v("— Jim Rohn")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homepage-2"},[a("div",{staticClass:"homepage-2-img-container"},[a("img",{attrs:{src:s("11d4")}})]),a("div",{staticClass:"homepage-2-content"},[a("h1",{staticClass:"homepage-2-header"},[t._v(" The right way to work - Work together. ")]),a("div",{staticClass:"txt-conatiner"},[a("img",{staticClass:"homepage-check",attrs:{src:s("8545"),alt:""}}),a("p",{staticClass:"homepage-2-txt"},[t._v("Arrange your work properly.")])]),a("div",{staticClass:"txt-conatiner"},[a("img",{staticClass:"homepage-check",attrs:{src:s("8545"),alt:""}}),a("p",{staticClass:"homepage-2-txt"},[t._v("Improve your work productivity.")])]),a("div",{staticClass:"txt-conatiner"},[a("img",{staticClass:"homepage-check",attrs:{src:s("8545"),alt:""}}),a("p",{staticClass:"homepage-2-txt"},[t._v("Set your goals.")])]),a("h1",{staticClass:"motivational"},[t._v(" “Great things in business are never done by one person, they’re done by a team of people.” "),a("span",{staticClass:"motivational-author"},[t._v("– Steve Jobs")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homepage-3"},[a("div",{staticClass:"homepage-3-img-container"},[a("img",{attrs:{src:s("3b15")}})]),a("div",{staticClass:"homepage-3-content"},[a("h1",{staticClass:"homepage-3-header"},[t._v("Quick and easy to use.")]),a("div",{staticClass:"txt-conatiner"},[a("img",{staticClass:"homepage-check",attrs:{src:s("8545")}}),a("p",{staticClass:"homepage-3-txt"},[t._v("Create a board, task and list easily.")])]),a("div",{staticClass:"txt-conatiner"},[a("img",{staticClass:"homepage-check",attrs:{src:s("8545")}}),a("p",{staticClass:"homepage-3-txt"},[t._v("Manage the team efficiently.")])]),a("div",{staticClass:"txt-conatiner"},[a("img",{staticClass:"homepage-check",attrs:{src:s("8545")}}),a("p",{staticClass:"homepage-3-txt"},[t._v("Conquer your goals.")])]),a("h1",{staticClass:"motivational"},[t._v(" “The individual who says it is not possible should move out of the way of those doing it.” "),a("span",{staticClass:"motivational-author"},[t._v("—Tricia Cunningham")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homepage-4"},[a("div",{staticClass:"homepage-4-header"},[a("h1",[t._v(" Join over 1,000,000 teams worldwide that are using trailing to get more done. ")])]),a("div",{staticClass:"social-proof-container"},[a("div",{staticClass:"social-container"},[a("img",{staticClass:"employee-img",attrs:{src:s("1f5a")}}),a("img",{staticClass:"stars",attrs:{src:s("bf6f")}}),a("p",{staticClass:"review-txt"},[t._v(' "This app has made a huge difference in our work procedures." ')])]),a("div",{staticClass:"social-container"},[a("img",{staticClass:"employee-img",attrs:{src:s("773a")}}),a("img",{staticClass:"stars",attrs:{src:s("bf6f")}}),a("p",{staticClass:"review-txt"},[t._v(" \"After we started working with 'trailing' our efficiency has grown tremendously.\" ")])]),a("div",{staticClass:"social-container"},[a("img",{staticClass:"employee-img",attrs:{src:s("7043")}}),a("img",{staticClass:"stars",attrs:{src:s("bf6f")}}),a("p",{staticClass:"review-txt"},[t._v(' "I\'m able to manage my employees a lot more easily with this app. Thank you!" ')])]),a("div",{staticClass:"social-container"},[a("img",{staticClass:"employee-img",attrs:{src:s("83a9")}}),a("img",{staticClass:"stars",attrs:{src:s("bf6f")}}),a("p",{staticClass:"review-txt"},[t._v(" \"Since I started using 'trailing', I finish a lot more work in a lot less time.\" ")])])])])}],Li={data:function(){return{isScroll:!1}},computed:{showBackTop:function(){return{btnTopShow:this.isScroll}}},created:function(){this.$store.commit("clearStyle"),addEventListener("scroll",this.handleScroll,!0)},destroyed:function(){window.pageYOffset=0,this.isScroll=!1},mounted:function(){},methods:{scroll:function(){var t=this;document.querySelector(".homepage-1").scrollIntoView(),setTimeout((function(){window.pageYOffset=0,t.isScroll=!1}),300)},handleScroll:function(){window.pageYOffset++,window.pageYOffset>30&&(this.isScroll=!0)}}},Mi=Li,ji=Object(f["a"])(Mi,Ai,Si,!1,null,null,null),Bi=ji.exports,Ii=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"boards-list-container"},[s("nav",{staticClass:"boards-list-menu"},[s("div",{staticClass:"btn-workspace-container",class:t.selectedBoards},[s("span",{staticClass:"icon-board icon-sm"}),s("a",{staticClass:"btn-workspace",on:{click:t.showBoards}},[t._v("Available workspaces")])]),s("div",{staticClass:"btn-template-container",class:t.selectedTemplates},[s("span",{staticClass:"icon-template icon-sm"}),s("a",{staticClass:"btn-template",class:t.selectedTemplates,on:{click:t.showTemplates}},[t._v("Available templates")])]),s("div",{staticClass:"btn-user-container",class:t.selectedDashboard},[s("span",{staticClass:"icon-user icon-sm"}),s("a",{staticClass:"btn-user",class:t.selectedDashboard,on:{click:t.showDashboard}},[t._v("User Dashboard")])])]),t.isBoards?s("div",{staticClass:"boards-lists"},[s("div",{staticClass:"boards-list-header"},[s("h3",{staticClass:"boards-list-header-name"},[t._v("AVAILABLE WORKSPACES")]),s("div",[t._m(0),s("h3",{staticClass:"boards-page-board-section-header-name"},[t._v(" "+t._s(t.loggedinUser)+"'s Workspaces ")])])]),s("div",{staticClass:"boards-list-lg"},t._l(t.boards,(function(e){return s("board-preview",{key:e._id,attrs:{display:"large",board:e},nativeOn:{click:function(s){return t.showBoard(e._id)}}})})),1)]):t._e(),t.isTemplates?s("boards-templates"):t._e(),t.isDashboard?s("user-dashboard",{attrs:{boards:t.boards,user:t.user}}):t._e()],1)},Oi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"boards-page-board-section-header-icon"},[s("span",{staticClass:"icon-lg icon-organization"})])}],Di=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-dashboard"},[s("div",{staticClass:"boards-list-header"},[s("h3",{staticClass:"boards-list-header-name"},[t._v("DASHBOARD")]),s("div",[t._m(0),s("h3",{staticClass:"boards-page-board-section-header-name"},[t._v(" "+t._s(t.user.fullname)+"'s Dashboard ")])])]),s("div",{staticClass:"charts-container"},[s("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"15vw"}},[s("h4",[t._v("Your cards per board")]),s("cards-chart",{attrs:{boards:t.boards,user:t.user}})],1),s("section",{staticClass:"chart-container",staticStyle:{position:"relative","min-width":"200px",width:"15vw"}},[s("h4",[t._v("Your activity in boards")]),s("activity-chart",{attrs:{boards:t.boards,user:t.user}})],1)])])},Pi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"boards-page-board-section-header-icon"},[s("span",{staticClass:"icon-lg icon-organization"})])}],Ri={extends:ui["a"],props:{boards:Array,user:Object},mounted:function(){this.renderChart({labels:this.boardsTitles,datasets:[{backgroundColor:["#0079bf","#00c2e0","#51e898","#ff78cb","#344563","#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0"],data:this.cardsPerBoard,borderRadius:100,borderWidth:3,barPercentage:.5}]},{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,legend:{display:!1}})},computed:{boardsTitles:function(){var t=this;return this.$store.getters.boards.filter((function(e){return e.members.some((function(e){return e._id===t.user._id}))})).map((function(t){return t.title}))},cardsPerBoard:function(){var t=this;return this.boards.filter((function(e){return e.members.some((function(e){return e._id===t.user._id}))})).map((function(e){var s=0;return e.groups.forEach((function(e){e.cards.forEach((function(e){e.members&&e.members.some((function(e){return e._id===t.user._id}))&&s++}))})),s}))}}},Ui=Ri,Ni=Object(f["a"])(Ui,Qt,Yt,!1,null,null,null),Fi=Ni.exports,Hi={extends:ui["b"],props:{boards:Array,user:Object},mounted:function(){this.renderChart({labels:this.boardsTitles,datasets:[{backgroundColor:["#0079bf","#00c2e0","#51e898","#ff78cb","#344563","#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0"],data:this.activitiesPerBoard}]},{responsive:!0,legend:{display:!1}})},computed:{boardsTitles:function(){var t=this,e=this.boards.filter((function(e){return e.activities.some((function(e){return e.byMember._id===t.user._id}))})).map((function(t){return t.title}));return e},activitiesPerBoard:function(){var t=this;return this.boards.filter((function(e){return e.activities.some((function(e){return e.byMember._id===t.user._id}))})).map((function(e){var s=0;return e.activities.forEach((function(e){e.byMember._id===t.user._id&&s++})),s}))}}},Ji=Hi,zi=Object(f["a"])(Ji,Zt,Kt,!1,null,null,null),Gi=zi.exports,Vi={props:{boards:Array,user:Object},components:{cardsChart:Fi,activityChart:Gi}},qi=Vi,Wi=Object(f["a"])(qi,Di,Pi,!1,null,null,null),Qi=Wi.exports,Yi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"template-boards-container"},[t._m(0),s("div",{staticClass:"boards-list-lg"},t._l(t.templateToEdit,(function(e){return s("board-preview",{key:e._id,attrs:{display:"large",board:e},nativeOn:{click:function(s){return t.createTemplate(e)}}})})),1)])},Zi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"boards-list-header"},[s("h3",{staticClass:"boards-list-header-name"},[t._v("AVAILABLE TEMPLATES")]),s("div",[s("div",{staticClass:"boards-page-board-section-header-icon"},[s("span",{staticClass:"icon-lg icon-organization"})]),s("h3",{staticClass:"boards-page-board-section-header-name"},[t._v("Premade Templates")])])])}],Ki={components:{boardPreview:v},data:function(){return{templateToEdit:null}},computed:{templates:function(){return this.$store.getters.templates},loggedUser:function(){return this.$store.getters.loggedInUser}},methods:{createTemplate:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.createdBy=e.loggedUser,t.members.push(e.loggedUser),t.activities=[{id:_.makeId(),createdAt:Date.now(),byMember:e.loggedUser,txt:" created this board "}],s.prev=3,s.next=6,e.$store.dispatch({type:"addBoard",board:t});case 6:a=s.sent,e.$store.commit({type:"getBoardById",boardId:a._id}),e.$router.push("/board/".concat(a._id)),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](3),console.log("cant save new template",s.t0);case 14:case"end":return s.stop()}}),s,null,[[3,11]])})))()}},created:function(){this.templateToEdit=JSON.parse(JSON.stringify(this.templates))}},Xi=Ki,tr=Object(f["a"])(Xi,Yi,Zi,!1,null,null,null),er=tr.exports,sr={components:{userDashboard:Qi,boardPreview:v,boardsTemplates:er},data:function(){return{isBoards:!0,isTemplates:!1,isDashboard:!1}},created:function(){this.$store.commit("clearStyle")},computed:{selectedBoards:function(){return{"btn-selected":this.isBoards}},selectedTemplates:function(){return{"btn-selected":this.isTemplates}},selectedDashboard:function(){return{"btn-selected":this.isDashboard}},boards:function(){return this.$store.getters.boards},loggedinUser:function(){return this.$store.getters.loggedInUser.fullname},user:function(){return this.$store.getters.loggedInUser}},methods:{showBoard:function(t){this.$router.push("/board/".concat(t))},showBoards:function(){this.isBoards=!0,this.isDashboard=!1,this.isTemplates=!1},showTemplates:function(){this.isBoards=!1,this.isDashboard=!1,this.isTemplates=!0},showDashboard:function(){this.isBoards=!1,this.isTemplates=!1,this.isDashboard=!0}}},ar=sr,ir=Object(f["a"])(ar,Ii,Oi,!1,null,null,null),rr=ir.exports,or=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"login-page"},[t.isSignup?s("h3",[t._v("Sign Up")]):s("h3",[t._v("Log in to Trailing")]),s("form",{on:{submit:function(t){t.preventDefault()}}},[t.isSignup?s("el-input",{attrs:{placeholder:"Username"},model:{value:t.signupCr.username,callback:function(e){t.$set(t.signupCr,"username",e)},expression:"signupCr.username"}}):s("el-input",{attrs:{placeholder:"Username"},model:{value:t.loginCr.username,callback:function(e){t.$set(t.loginCr,"username",e)},expression:"loginCr.username"}}),t.isSignup?s("el-input",{attrs:{placeholder:"Password","show-password":""},model:{value:t.signupCr.password,callback:function(e){t.$set(t.signupCr,"password",e)},expression:"signupCr.password"}}):s("el-input",{attrs:{placeholder:"Password","show-password":""},model:{value:t.loginCr.password,callback:function(e){t.$set(t.loginCr,"password",e)},expression:"loginCr.password"}}),s("transition",{attrs:{name:"fade"}},[t.isSignup?s("el-input",{attrs:{placeholder:"Full Name"},model:{value:t.signupCr.fullname,callback:function(e){t.$set(t.signupCr,"fullname",e)},expression:"signupCr.fullname"}}):t._e()],1),t.isSignup?s("button",{staticClass:"btn signup",on:{click:t.signup}},[t._v(" Sign up ")]):s("button",{staticClass:"btn login",on:{click:t.login}},[t._v("Log in")])],1),t.isSignup?s("div",{staticClass:"link",on:{click:t.toggleSignup}},[t._v(" Already have an account ")]):s("div",{staticClass:"link",on:{click:t.toggleSignup}},[t._v("Sign up for an account")])])},nr=[],cr={name:"Login",components:{},data:function(){return{loginCr:{username:"",password:""},signupCr:{username:"",password:"",fullname:""},isSignup:!1}},methods:{toggleSignup:function(){this.isSignup=!this.isSignup},login:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loginCr.username&&t.loginCr.password){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$store.dispatch({type:"login",userCred:t.loginCr});case 5:s=e.sent,s&&t.$router.push("/boards"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0,"cant login");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},signup:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.signupCr.username&&t.signupCr.password&&t.signupCr.fullname){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$store.dispatch({type:"signup",userCred:t.signupCr});case 5:s=e.sent,s&&t.$router.push("/boards"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0,"cant signup");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()}},created:function(){this.$store.commit("clearStyle")}},lr=cr,dr=Object(f["a"])(lr,or,nr,!1,null,null,null),ur=dr.exports,pr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{"margin-top":"10px"}},[s("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addShape}},[t._v("Thêm shape")]),s("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addLine}},[t._v("Thêm line")]),s("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addArrow}},[t._v("Thêm mũi tên")]),s("button",{attrs:{type:"primary",size:"mini"},on:{click:t.addNote}},[t._v("Thêm note")]),s("button",{attrs:{type:"primary",size:"mini"}},[t._v("Tẩy")]),s("button",{attrs:{type:"primary",size:"mini"}},[t._v("Xoá")]),s("button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.exportToImage()}}},[t._v(" EXPORT ")]),s("button",{on:{click:t.addLabel}},[t._v("Add Label")])]),s("div",{staticClass:"page-center"},[s("v-stage",{ref:"stage",attrs:{config:t.stageSize},on:{mouseup:t.handleMouseup,mousemove:t.handleMousemove,touchend:t.handleMouseup,touchmove:t.handleMousemove,dblclick:t.addNote,mousedown:t.handleMousedown,touchstart:t.handleMousedown,click:t.touchEndLine}},[s("v-layer",{ref:"layer"},[s("v-image",{ref:"image",attrs:{config:{sceneFunc:function(t,e){t.beginPath(),t.strokeRect(1050,150,450,450),t.closePath(),t.fillStrokeShape(e)},fill:"#00D2FF",stroke:"black",strokeWidth:1}}})],1),s("v-layer",{ref:"layerDraw"}),s("v-layer",{ref:"layer2"},[t._l(t.listNote,(function(e){return s("v-text",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.editText,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteItem.apply(null,arguments)}}})})),t._l(t.listLine,(function(e){return s("v-line",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),t._l(t.listShape,(function(e){return s("v-rect",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),t._l(t.listArrow,(function(e){return s("v-arrow",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),t._l(t.listShape,(function(e){return s("v-label",{key:e.config.name,ref:e.config.name,refInFor:!0,attrs:{config:e.config},on:{click:t.defineTarget}})})),s("v-transformer",{ref:"transformerText",attrs:{config:{anchorStroke:"red",anchorFill:"red",anchorSize:5,borderStroke:"red",borderDash:[5,5],padding:5}},on:{transformstart:t.handleTransformStart,transformend:t.handleTransformEnd}})],2)],1)],1)])},hr=[],mr=(s("cb29"),3e3),gr=14,fr="Saira Semi Condensed",br=window.innerWidth,vr={},Cr=null,yr=null,kr=null,wr=null,_r=null,xr=null,Tr=null,Er=null,$r={data:function(){return{stageSize:{width:br,height:mr},numberRefs:0,listShape:[],listLine:[],listNote:[],listArrow:[],listLabel:[],image:null,isPaint:!1,lastPointerPosition:{x:0,y:0},pointerPosition:{x:0,y:0},isAddLine:!1,numberToCheckAddLine:0,selectedShapeName:""}},methods:{deleteItem:function(t){if(46===t.which&&""!==this.selectedShapeName){Tr=this.$refs[this.selectedShapeName][0].getNode();var e=this.$refs.transformerText.getStage();e.detach(),e.getLayer().batchDraw(),Tr.destroy(),kr.draw()}},addTransformerImmediate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Tr=vr.$refs[t][0].getNode(),this.selectedShapeName=t,this.updateTransformer()},addNote:function(){var t=this;this.numberRefs+=1;var e={config:{width:150,text:"ghi chú mới",fontSize:gr,fontFamily:fr,draggable:!0,name:"text".concat(this.numberRefs),x:this.lastPointerPosition.x||100,y:this.lastPointerPosition.y||0,ellipsis:!0,fill:"red",backgroundColor:"#FFAAFF"}},s=this.listNote.length;this.$set(this.listNote,s,e),this.$nextTick((function(){t.addTransformerImmediate(t.listNote[s].config.name)}))},addLabel:function(){var t=this;this.numberRefs+=1;var e={config:{width:150,text:"ghi chú mới",fontSize:gr,fontFamily:fr,draggable:!0,name:"label".concat(this.numberRefs),x:this.lastPointerPosition.x||100,y:this.lastPointerPosition.y||0,ellipsis:!0,fill:"red",backgroundColor:"#FFAAFF"}},s=this.listLabel.length;this.$set(this.listLabel,s,e),this.$nextTick((function(){t.addTransformerImmediate(t.listLabel[s].config.name)}))},addLine:function(){this.isAddLine=!0},touchEndLine:function(){var t=this;if(this.isAddLine)if(this.numberToCheckAddLine+=1,this.pointerPosition=Cr.getPointerPosition(),this.numberToCheckAddLine%2!==0){this.numberRefs+=1;var e={config:{x:this.pointerPosition.x||20,y:this.pointerPosition.y||200,points:[0,0,0,0,5,0],closed:!0,draggable:!0,padding:10,name:"line".concat(this.numberRefs),stroke:"red",strokeWidth:3}},s=this.listLine.length;this.$set(this.listLine,s,e),this.$nextTick((function(){t.addTransformerImmediate(t.listLine[s].config.name)}))}else this.listLine.forEach((function(e){if(e.config.name===t.selectedShapeName){var s=e.config.x;t.$set(e.config.points,4,t.pointerPosition.x-s),t.addTransformerImmediate(e.config.name),t.$forceUpdate(),t.selectedShapeName="",t.updateTransformer(),t.isAddLine=!1}}))},addShape:function(){var t=this;this.numberRefs+=1;var e={config:{x:150,y:150,width:100,height:25,stroke:"red",strokeWidth:.5,name:"shape".concat(this.numberRefs),draggable:!0}},s=this.listShape.length;this.$set(this.listShape,s,e),this.$nextTick((function(){t.addTransformerImmediate(t.listShape[s].config.name)}))},addArrow:function(){var t=this;this.numberRefs+=1;var e={config:{x:100,y:100,points:[120,0,250,0],pointerLength:20,pointerWidth:15,name:"arrow".concat(this.numberRefs),stroke:"red",fill:"red",draggable:!0,strokeWidth:1}},s=this.listArrow.length;this.$set(this.listArrow,s,e),this.$nextTick((function(){t.addTransformerImmediate(t.listArrow[s].config.name)}))},allowPaint:function(){this.isPaint=!0,this.lastPointerPosition=Cr.getPointerPosition()},handleMousedown:function(t){if(t.target===t.target.getStage())return this.allowPaint(),!this.isAddLine&&(this.selectedShapeName=""),void this.updateTransformer();var e="Transformer"===t.target.getParent().className;if(e)this.allowPaint();else{var s=t.target.name(),a=Tr;a?this.selectedShapeName=s:!this.isAddLine&&(this.selectedShapeName=""),this.updateTransformer()}},handleMouseup:function(){this.isPaint=!1},handleMousemove:function(){if(this.isPaint){_r.globalCompositeOperation="source-over",_r.beginPath(),_r.strokeStyle="#df4b26",_r.lineWidth=1;var t={x:this.lastPointerPosition.x,y:this.lastPointerPosition.y};_r.moveTo(t.x,t.y);var e=Cr.getPointerPosition();t={x:e.x,y:e.y},_r.lineTo(t.x,t.y),_r.closePath(),_r.stroke(),this.lastPointerPosition=e,yr.batchDraw()}},updateTransformer:function(){var t=this.$refs.transformerText.getStage(),e=t.getStage(),s=this.selectedShapeName,a=e.findOne("."+s);a!==t.node()&&(a?t.attachTo(a):t.detach(),t.getLayer().batchDraw())},defineTarget:function(t){vr=this,Tr=vr.$refs[t.target.attrs.name][0].getNode()},editText:function(t){vr=this,Tr=vr.$refs[t.target.attrs.name][0].getNode(),Tr.hide(),Er.hide(),kr.draw();var e=Tr.absolutePosition(),s=Cr.container().getBoundingClientRect(),a={x:s.left+e.x,y:s.top+e.y},i=document.createElement("textarea");document.body.appendChild(i),i.value=Tr.text(),i.style.position="absolute",i.style.top=a.y+"px",i.style.left=a.x+"px",i.style.width=Tr.width()-2*Tr.padding()+"px",i.style.height=Tr.height()-2*Tr.padding()+5+"px",i.style.fontSize=Tr.fontSize()+"px",i.style.border="none",i.style.padding="0px",i.style.margin="0px",i.style.overflow="hidden",i.style.background="blue",i.style.outline="none",i.style.resize="none",i.style.lineHeight=Tr.lineHeight(),i.style.fontFamily=Tr.fontFamily(),i.style.transformOrigin="left top",i.style.textAlign=Tr.align(),i.style.color=Tr.fill();var r=Tr.rotation(),o="";r&&(o+="rotateZ("+r+"deg)");var n=0,c=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function l(){i.parentNode.removeChild(i),window.removeEventListener("click",u),Tr.show(),Er.show(),Er.forceUpdate(),kr.draw()}function d(t){t||(t=Tr.placeholder.length*Tr.fontSize());var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(e||s)&&(t=Math.ceil(t));var a=document.documentMode||/Edge/.test(navigator.userAgent);a&&(t+=1),i.style.width=t+"px"}function u(t){t.target!==i&&l()}c&&(n+=2+Math.round(Tr.fontSize()/20)),o+="translateY(-"+n+"px)",i.style.transform=o,i.style.height="auto",i.style.height=i.scrollHeight+3+"px",i.focus(),i.addEventListener("keydown",(function(t){13!==t.keyCode||t.shiftKey||(Tr.text(i.value),l()),27===t.keyCode&&l()})),i.addEventListener("keydown",(function(){var t=Tr.getAbsoluteScale().x;d(Tr.width()*t),i.style.height="auto",i.style.height=i.scrollHeight+Tr.fontSize()+"px"})),setTimeout((function(){window.addEventListener("click",u)}))},handleTransformEnd:function(t){console.log(t)},handleTransformStart:function(t){console.log(t)},downloadURI:function(t,e){var s=document.createElement("a");s.download=e,s.href=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),s=""},exportToImage:function(){var t=Cr.toDataURL({pixelRatio:3});this.downloadURI(t,"stage.png")}},mounted:function(){var t=this;vr=this,yr=vr.$refs.layer.getNode(),kr=vr.$refs.layer2.getNode(),wr=vr.$refs.layerDraw.getNode(),Cr=vr.$refs.stage.getNode(),Er=vr.$refs.transformerText.getNode();var e=new Image;e.src="~@/assets/img/background-choose-photos.jpg",e.onload=function(){xr=document.querySelectorAll("canvas");var s=xr[0],a=s.getContext("2d");t.$set(t.stageSize,"height",e.height),t.$set(t.stageSize,"width",e.width),t.image=e,s.width=e.width,s.height=e.height,a.drawImage(e,0,0)},xr=document.querySelectorAll("canvas"),xr=xr[xr.length-2],_r=xr.getContext("2d"),Cr.draw(),yr.draw(),wr.draw()},created:function(){window.addEventListener("keyup",this.deleteItem)},beforeDestroy:function(){}},Ar=$r,Sr=(s("1931"),Object(f["a"])(Ar,pr,hr,!1,null,null,null)),Lr=Sr.exports,Mr=s("7591"),jr=s.n(Mr);a["default"].use(Tt["a"]),a["default"].use(jr.a);var Br=[{path:"/",name:"Home",component:Bi},{path:"/boards",name:"Boards",component:rr},{path:"/board/:boardId",name:"Board",component:$i},{path:"/login",name:"Login",component:ur},{path:"/canvas",name:"Canvas",component:Lr}],Ir=new Tt["a"]({routes:Br}),Or=Ir,Dr=s("2f62"),Pr=(s("4d63"),s("ac1f"),s("25f0"),"/api/"),Rr=w.a.create({withCredentials:!0}),Ur={get:function(t,e){return Nr(t,"GET",e)},post:function(t,e){return Nr(t,"POST",e)},put:function(t,e){return Nr(t,"PUT",e)},delete:function(t,e){return Nr(t,"DELETE",e)}};function Nr(t){return Fr.apply(this,arguments)}function Fr(){return Fr=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,a,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.length>1&&void 0!==r[1]?r[1]:"GET",a=r.length>2&&void 0!==r[2]?r[2]:null,t.prev=2,t.next=5,Rr({url:"".concat(Pr).concat(e),method:s,data:a,params:"GET"===s?a:null});case 5:return i=t.sent,t.abrupt("return",i.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(s,"ing to the backend, endpoint: ").concat(e,", with data:"),a),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&Or.push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),Fr.apply(this,arguments)}var Hr="board/",Jr={query:zr,getById:Vr,remove:Wr,add:Yr,save:Kr};function zr(){return Gr.apply(this,arguments)}function Gr(){return Gr=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.get(Hr);case 3:return e=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Gr.apply(this,arguments)}function Vr(t){return qr.apply(this,arguments)}function qr(){return qr=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s=Ur.get(Hr+e),t.abrupt("return",s);case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),qr.apply(this,arguments)}function Wr(t){return Qr.apply(this,arguments)}function Qr(){return Qr=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.delete("board/".concat(e));case 3:return s=t.sent,t.abrupt("return",s);case 7:t.prev=7,t.t0=t["catch"](0),console.log("Failed to delete board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Qr.apply(this,arguments)}function Yr(t){return Zr.apply(this,arguments)}function Zr(){return Zr=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s=Ur.post(Hr,{board:e}),t.abrupt("return",s);case 5:t.prev=5,t.t0=t["catch"](0),console.log("couldn't create board",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),Zr.apply(this,arguments)}function Kr(t){return Xr.apply(this,arguments)}function Xr(){return Xr=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.put(Hr,{board:e});case 3:return s=t.sent,t.abrupt("return",s);case 7:t.prev=7,t.t0=t["catch"](0),console.log("couldn't save board",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Xr.apply(this,arguments)}zr();var to={query:so},eo=[{title:"Business",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:s("2db6"),preview:s("a962"),props:{isDark:!0}},labels:[{id:"l101",title:"Done",color:"#61bd4f"},{id:"l102",title:"Almost",color:"#f2d600"},{id:"l103",title:"Nice",color:"#ff78cb"},{id:"l104",title:"Bad",color:"#eb5a46"}],members:[],groups:[{id:_.makeId(),title:"Your Template List",cards:[{id:_.makeId(),title:"Make a business plan"},{id:_.makeId(),title:"Add Samples"}]}],activities:[]},{title:"Design",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:s("8437"),preview:s("df20"),props:{isDark:!0}},labels:[],members:[],groups:[{id:_.makeId(),title:"Your Template List",cards:[{id:_.makeId(),title:"Make your first design"},{id:_.makeId(),title:"Add Samples"}]}],activities:[]},{title:"Education",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:s("062f"),preview:s("0ae7"),props:{isDark:!0}},labels:[],members:[],groups:[{id:_.makeId(),title:"Your Template List",cards:[{id:_.makeId(),title:"Prepare your first lesson"},{id:_.makeId(),title:"Add Samples"}]}],activities:[]},{title:"Marketing",createdAt:Date.now(),createdBy:{_id:"",fullname:"",imgUrl:"http://some-img"},style:{type:"backgroundImage",content:s("48ce"),preview:s("2b7b"),props:{isDark:!1}},labels:[],members:[],groups:[{id:_.makeId(),title:"Your Template List",cards:[{id:_.makeId(),title:"Make your first marketing plan"},{id:_.makeId(),title:"Add Samples"}]}],activities:[]}];function so(){return eo}var ao={state:{selectedBoard:{},boards:null,currFilter:"",templates:to.query()},getters:{board:function(t){var e=t.selectedBoard;return e},boardStyle:function(t){var e=t.selectedBoard;if(e)return e.style},boards:function(t){var e=t.boards;return e},boardsForDisplay:function(t){var e=new RegExp(t.currFilter,"i");return""===t.currFilter?t.boards:t.boards.filter((function(t){if(e.test(t.title))return t}))},templates:function(t){return t.templates}},mutations:{getBoardById:function(t,e){return t.selectedBoard=t.boards.find((function(t){return t._id===e})),t.selectedBoard},setBoards:function(t,e){var s=e.boards;t.boards=s},saveBoard:function(t,e){var s=e.savedBoard,a=t.boards.findIndex((function(t){return t._id===s._id}));t.boards.splice(a,1,s),t.selectedBoard=s},addBoard:function(t,e){var s=e.board;t.boards.push(s),t.selectedBoard=s},clearStyle:function(t){t.selectedBoard=null},cardChanged:function(t,e){var s=e.card;t.selectedBoard.groups[s.gIdx].cards.splice(s.cIdx,1,s.payload)},groupsChanged:function(t,e){var s=e.groups;t.selectedBoard.groups=s},titleChanged:function(t,e){var s=e.title;t.selectedBoard.title=s},styleChanged:function(t,e){var s=e.style;t.selectedBoard.style=s.payload},membersChanged:function(t,e){var s=e.members;t.selectedBoard.members=s},activitiesChanged:function(t,e){var s=e.activities;t.selectedBoard.activities=s},setFilter:function(t,e){var s=e.filterBy;t.currFilter=s},removeBoard:function(t,e){var s=e.boardId,a=t.boards.findIndex((function(t){return t._id===s}));t.boards.splice(a,1)}},actions:{loadBoards:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,Jr.query();case 4:a=e.sent,s({type:"setBoards",boards:a}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("Couldn't load boards");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},addBoard:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=e.board,s.prev=2,s.next=5,Jr.add(i);case 5:return i=s.sent,a({type:"addBoard",board:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("boardStore: Error in addBoard",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},removeBoard:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=e.boardId,s.prev=2,s.next=5,Jr.remove(i);case 5:a({type:"removeBoard",boardId:i}),s.next=12;break;case 8:throw s.prev=8,s.t0=s["catch"](2),console.log("boardStore: Error in removeBoard",s.t0),s.t0;case 12:case"end":return s.stop()}}),s,null,[[2,8]])})))()},saveBoard:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=e.board,s.prev=2,s.next=5,Jr.save(i);case 5:r=s.sent,a({type:"saveBoard",savedBoard:r}),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log("couldn't save board",s.t0);case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()}}},io=s("2909"),ro={query:oo,get:co,post:lo,put:uo,remove:po,postMany:no};function oo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,s=JSON.parse(localStorage.getItem(t))||[];return new Promise((function(t){setTimeout((function(){t(s)}),e)}))}function no(t,e){return oo(t).then((function(s){return s.push.apply(s,Object(io["a"])(e)),ho(t,s),s}))}function co(t,e){return oo(t).then((function(t){return t.find((function(t){return t._id===e}))}))}function lo(t,e){return e._id=_.makeId(),oo(t).then((function(s){return s.push(e),ho(t,s),e}))}function uo(t,e){return oo(t).then((function(s){var a=s.findIndex((function(t){return t._id===e._id}));return s.splice(a,1,e),ho(t,s),e}))}function po(t,e){return oo(t).then((function(s){var a=s.findIndex((function(t){return t._id===e}));if(a<0)throw new Error("Unknown Entity ".concat(e));s.splice(a,1),ho(t,s)}))}function ho(t,e){localStorage.setItem(t,JSON.stringify(e))}var mo="loggedinUser",go="allUsers",fo="user/",bo={query:yo,login:Ao,logout:jo,signup:Lo,getById:wo,remove:xo,update:Eo,getLoggedinUser:Io,addMention:vo};function vo(t){return Co.apply(this,arguments)}function Co(){return Co=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.put("user/".concat(e.userId,"/mention"),e);case 3:return s=t.sent,t.abrupt("return",s);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Co.apply(this,arguments)}function yo(){return ko.apply(this,arguments)}function ko(){return ko=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.get(fo);case 3:if(e=t.sent,e.length){t.next=7;break}return ro.postMany(go,e),t.abrupt("return",e);case 7:return t.abrupt("return",e);case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),ko.apply(this,arguments)}function wo(t){return _o.apply(this,arguments)}function _o(){return _o=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.get("user/".concat(e));case 3:return s=t.sent,t.abrupt("return",s);case 7:t.prev=7,t.t0=t["catch"](0),console.log("Failed to get user",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),_o.apply(this,arguments)}function xo(t){return To.apply(this,arguments)}function To(){return To=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",Ur.delete("user/".concat(e)));case 4:t.prev=4,t.t0=t["catch"](0),console.log("Failed to delete user",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),To.apply(this,arguments)}function Eo(t){return $o.apply(this,arguments)}function $o(){return $o=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.put("user/".concat(e._id),e);case 3:return e=t.sent,(Io()._id===e._id||Io.isAdmin)&&Oo(e),t.abrupt("return",e);case 8:t.prev=8,t.t0=t["catch"](0),console.log("Failed to update user",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),$o.apply(this,arguments)}function Ao(t){return So.apply(this,arguments)}function So(){return So=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.post("auth/login",e);case 3:if(s=t.sent,!s){t.next=6;break}return t.abrupt("return",Oo(s));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("username or password are incorrect",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),So.apply(this,arguments)}function Lo(t){return Mo.apply(this,arguments)}function Mo(){return Mo=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.post("auth/signup",e);case 3:return s=t.sent,t.abrupt("return",Oo(s));case 7:t.prev=7,t.t0=t["catch"](0),console.log("Failed to create user",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Mo.apply(this,arguments)}function jo(){return Bo.apply(this,arguments)}function Bo(){return Bo=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,sessionStorage.removeItem(mo),t.next=4,Ur.post("auth/logout");case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t["catch"](0),console.log("failed to logout",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Bo.apply(this,arguments)}function Io(){return JSON.parse(sessionStorage.getItem(mo)||"null")}function Oo(t){return sessionStorage.setItem(mo,JSON.stringify(t)),t}window.userService=bo;var Do={state:{users:[],loggedInUser:bo.getLoggedinUser()||{username:"guest",fullname:"Guest User",_id:""}},getters:{loggedInUser:function(t){return t.loggedInUser},users:function(t){return t.users},user:function(t){return t.users.find((function(e){return e._id===t.loggedInUser._id}))||{username:"guest",fullname:"Guest User",_id:""}}},mutations:{setLoggedinUser:function(t,e){var s=e.user;t.loggedInUser=JSON.parse(JSON.stringify(s))},setUsers:function(t,e){var s=e.users;t.users=s},updateUser:function(t,e){var s=e.updatedUser,a=s._id,i=t.users.findIndex((function(t){return t._id===a}));t.users.splice(i,1,s)},updateMention:function(t,e){var s=e.mention,a=s.userId,i=t.users.findIndex((function(t){return t._id===a}));t.users[i].mentions.unshift(s)}},actions:{getById:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.userId,t.prev=1,t.next=4,bo.getById(s);case 4:return a=t.sent,t.abrupt("return",a);case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},addMention:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=e.mention,s.prev=2,s.next=5,bo.addMention(i);case 5:r=s.sent,a({type:"updateUser",updatedUser:r}),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},updateUser:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=e.userToUpdate,s.prev=2,s.next=5,bo.update(i);case 5:r=s.sent,a({type:"updateUser",updatedUser:r}),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},loadUsers:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,bo.query();case 4:a=e.sent,s({type:"setUsers",users:a}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("Couldn't load users");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},login:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=e.userCred,s.prev=2,s.next=5,bo.login(i);case 5:return r=s.sent,ut.emit("user-watch",r._id),a({type:"setLoggedinUser",user:r}),s.abrupt("return",r);case 11:throw s.prev=11,s.t0=s["catch"](2),console.log("userStore: Error in login",s.t0),s.t0;case 15:case"end":return s.stop()}}),s,null,[[2,11]])})))()},signup:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,i=e.userCred,s.prev=2,s.next=5,bo.signup(i);case 5:return r=s.sent,a({type:"setLoggedinUser",user:r}),s.abrupt("return",r);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("userStore: Error in signup",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},logout:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,bo.logout();case 4:s({type:"setLoggedinUser",user:{username:"guest",fullname:"Guest User"}}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("userStore: Error in logout",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}};a["default"].use(Dr["a"]);var Po=new Dr["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{boardStore:ao,userStore:Do}}),Ro=s("f5af"),Uo=s.n(Ro),No=(s("3c61"),s("e829"),s("b2d6")),Fo=s.n(No);a["default"].use(xt.a,{locale:Fo.a}),a["default"].use(jr.a),a["default"].config.productionTip=!1,a["default"].use(s("2ead")),a["default"].use(i["b"]),new a["default"]({created:function(){Uo.a.init()},router:Or,store:Po,render:function(t){return t(kt)}}).$mount("#app")},"5e4c":function(t,e,s){t.exports=s.p+"img/loader.516fef1b.svg"},"5e88":function(t,e,s){t.exports=s.p+"img/background-choose-photos.5b1e4ecf.jpg"},7043:function(t,e,s){t.exports=s.p+"img/emp4.1690a3c0.jpg"},"773a":function(t,e,s){t.exports=s.p+"img/emp2.cb6c7487.jpg"},8017:function(t,e,s){"use strict";s("f049")},"83a9":function(t,e,s){t.exports=s.p+"img/emp3.3a9b2355.jpg"},8437:function(t,e,s){t.exports=s.p+"img/design-large.a0f82d07.jpg"},8545:function(t,e,s){t.exports=s.p+"img/check.54b9520b.png"},"8cdd":function(t,e,s){t.exports=s.p+"img/background-choose-colors.bda927fb.jpg"},a962:function(t,e,s){t.exports=s.p+"img/business-small.0ac5443b.jpg"},b676:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("1da1"),i=(s("96cf"),s("d3b7"),s("99af"),s("bc3a")),r=s.n(i),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s,a,i,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="dsnxbqbvl",a="jcxq5ftd",i="https://api.cloudinary.com/v1_1/".concat(s,"/").concat(e.type,"/upload"),t.prev=3,t.next=6,r()({method:"get",url:e.url,responseType:"blob"});case 6:return o=t.sent,n=new FileReader,n.readAsDataURL(o.data),t.abrupt("return",new Promise((function(t){n.onloadend=function(){var e=n.result,s=new FormData;s.append("file",e),s.append("upload_preset",a),r.a.post(i,s).then((function(e){t(e.data)}))}})));case 12:t.prev=12,t.t0=t["catch"](3),console.error("ERROR!",t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},bf6f:function(t,e,s){t.exports=s.p+"img/5-stars.d1a9af00.png"},df20:function(t,e,s){t.exports=s.p+"img/design-small.f9feb1d1.jpg"},f049:function(t,e,s){}});
//# sourceMappingURL=app.f1f73bf6.js.map